<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cicero vs Demosthenes: The Future of Debate</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    :root {
      --cicero: #E07A5F;
      --demosthenes: #3D5A80;
      --sage: #81B29A;
      --ink: #2D3142;
      --cream: #F7F5F3;
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    html {
      scroll-behavior: smooth;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    
    body {
      background: var(--cream);
      color: var(--ink);
      line-height: 1.6;
    }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--cream); }
    ::-webkit-scrollbar-thumb { background: var(--demosthenes); border-radius: 4px; }
    
    /* Progress bar */
    #progress {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--cicero), var(--demosthenes));
      z-index: 1000;
      transition: width 100ms;
    }
    
    /* Slider styling */
    input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      height: 10px;
      border-radius: 5px;
      outline: none;
      cursor: pointer;
    }
    
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 24px;
      height: 24px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      cursor: grab;
      transition: transform 0.15s;
    }
    
    input[type="range"]::-webkit-slider-thumb:active {
      cursor: grabbing;
      transform: scale(1.15);
    }
    
    input[type="range"]::-moz-range-thumb {
      width: 24px;
      height: 24px;
      background: white;
      border: none;
      border-radius: 50%;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      cursor: grab;
    }
    
    /* Emphasis animation */
    .emphasis {
      font-weight: 700;
      color: var(--demosthenes);
      transition: all 0.2s;
    }
    
    /* Pulse animation */
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.3); opacity: 0.7; }
    }
    
    .pulse { animation: pulse 2s ease-in-out infinite; }
    
    /* Bounce animation */
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(10px); }
    }
    
    .bounce { animation: bounce 2s ease-in-out infinite; }
    
    /* Fade in animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in { animation: fadeIn 0.6s ease-out forwards; }
    
    /* Timeline bubble styles */
    .timeline-bubble { transition: all 0.2s; cursor: pointer; }
    .timeline-bubble:hover { filter: brightness(1.15); }
    
    /* Room chairs */
    .chair {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      transition: all 0.3s;
    }
    
    .chair-empty {
      background: rgba(45, 49, 66, 0.1);
      border: 2px dashed rgba(45, 49, 66, 0.2);
    }
    
    .chair-filled {
      background: var(--demosthenes);
      animation: fadeIn 0.3s ease-out;
    }
    
    /* Argument cards */
    .arg-card {
      transition: all 0.3s;
    }
    
    .arg-card.winner {
      border-color: var(--sage);
      background: rgba(129, 178, 154, 0.2);
    }
    
    .arg-card.collapsed {
      font-family: 'Fira Code', monospace;
      font-size: 0.65rem;
      letter-spacing: -0.03em;
    }
    
    /* Quote card */
    .quote-card {
      position: relative;
    }
    
    .quote-card::before {
      content: '"';
      position: absolute;
      top: -10px;
      left: 10px;
      font-size: 4rem;
      color: var(--demosthenes);
      opacity: 0.2;
      font-family: Georgia, serif;
    }
  </style>
</head>
<body class="overflow-x-hidden">
  <!-- Progress bar -->
  <div id="progress" style="width: 0%"></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HERO SECTION
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="hero" class="min-h-screen flex items-center justify-center px-6 py-16 bg-gradient-to-br from-stone-50 to-stone-100">
    <div class="max-w-3xl mx-auto text-center">
      <p class="text-xs tracking-[0.2em] uppercase text-stone-500 mb-4">An interactive essay on rhetoric, persuasion & empty rooms</p>
      
      <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight mb-8">
        <span style="color: var(--cicero)">Cicero</span>
        <span class="block text-lg font-normal tracking-[0.3em] text-stone-400 my-3">vs</span>
        <span style="color: var(--demosthenes)">Demosthenes</span>
      </h1>
      
      <blockquote class="bg-white rounded-xl p-6 md:p-8 shadow-lg text-lg md:text-xl italic text-stone-700 mb-8">
        <p class="mb-2">"When <strong class="font-bold" style="color: var(--cicero)">Cicero</strong> spoke, people said <em class="text-stone-500">'What a great speech.'</em></p>
        <p>When <strong class="font-bold" style="color: var(--demosthenes)">Demosthenes</strong> spoke, they said <em style="color: var(--demosthenes)">'Let us march.'</em>"</p>
      </blockquote>
      
      <p class="text-stone-500 flex items-center justify-center gap-2 mb-8">
        <span class="w-2 h-2 rounded-full pulse" style="background: var(--demosthenes)"></span>
        Scroll to begin â€” or drag the slider below to feel the difference
      </p>
      
      <div class="bounce text-stone-400">
        <svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
        </svg>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCENE 1: THE SLIDER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="scene-slider" class="min-h-screen flex items-center justify-center px-6 py-20">
    <div class="max-w-2xl mx-auto w-full">
      <header class="text-center mb-12">
        <span class="text-xs tracking-[0.15em] uppercase font-semibold" style="color: var(--demosthenes)">01</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-3">Feel the Difference</h2>
        <p class="text-stone-500">Drag the slider. Watch the same idea transform.</p>
      </header>
      
      <div class="space-y-8">
        <!-- Slider labels -->
        <div class="flex justify-between text-sm font-semibold uppercase tracking-wide">
          <span style="color: var(--cicero)">Admiration</span>
          <span style="color: var(--demosthenes)">Action</span>
        </div>
        
        <!-- Slider -->
        <input 
          type="range" 
          id="rhetoric-slider" 
          min="0" max="100" value="0"
          class="w-full"
          style="background: linear-gradient(90deg, var(--cicero), var(--demosthenes))"
        >
        
        <!-- Speech card -->
        <div id="speech-card" class="bg-white rounded-xl p-6 shadow-lg border-t-4 min-h-[140px] transition-all duration-300" style="border-color: var(--cicero)">
          <p id="speech-text" class="text-lg leading-relaxed"></p>
        </div>
        
        <!-- Pacing indicator -->
        <div class="text-sm text-stone-500">
          <span>Pacing:</span>
          <span id="pacing-value" class="font-semibold capitalize ml-1">measured</span>
        </div>
        
        <!-- Audience meter -->
        <div>
          <div class="text-sm font-semibold text-stone-600 mb-2">Audience impulse to act</div>
          <div class="h-6 bg-stone-200 rounded-full overflow-hidden relative">
            <div id="audience-meter" class="h-full rounded-full transition-all duration-300" style="width: 20%; background: linear-gradient(90deg, var(--cicero), var(--sage), var(--demosthenes))"></div>
          </div>
          <div class="flex justify-between text-xs text-stone-400 mt-1">
            <span>0%</span><span>50%</span><span>100%</span>
          </div>
        </div>
      </div>
      
      <!-- Insight card -->
      <div class="quote-card bg-white border-l-4 rounded-r-lg p-6 mt-12 shadow-sm" style="border-color: var(--sage)">
        <p class="text-lg font-medium text-stone-700">The same facts. The same argument. Completely different outcomes.</p>
        <p class="text-stone-500 mt-2">Rhetoric isn't about what you sayâ€”it's about what people <em>do</em> after you say it.</p>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCENE 2: TIMELINE
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="scene-timeline" class="min-h-screen flex items-center justify-center px-6 py-20" style="background: var(--ink); color: var(--cream)">
    <div class="max-w-4xl mx-auto w-full">
      <header class="text-center mb-12">
        <span class="text-xs tracking-[0.15em] uppercase font-semibold opacity-70">02</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-3">The Great Disappearing Audience</h2>
        <p class="opacity-70">Drag the timeline. Watch debate retreat from public view.</p>
      </header>
      
      <!-- Timeline visualization -->
      <div id="timeline-viz" class="w-full h-80 mb-6"></div>
      
      <!-- Timeline scrubber -->
      <div class="mb-8">
        <input 
          type="range" 
          id="timeline-slider" 
          min="1700" max="2025" value="1925"
          class="w-full"
          style="background: rgba(255,255,255,0.2)"
        >
        <div id="timeline-year" class="text-4xl font-bold text-center mt-4">1925</div>
      </div>
      
      <!-- Format detail -->
      <div id="format-detail" class="bg-white/5 rounded-xl p-6 mb-8 min-h-[120px]">
        <h3 id="format-name" class="text-xl font-bold mb-2">Click a bubble to explore</h3>
        <p id="format-desc" class="opacity-80">Each bubble represents a debate format. Size = prevalence in that era.</p>
        <div id="format-tags" class="flex flex-wrap gap-2 mt-4"></div>
      </div>
      
      <!-- Stats -->
      <div class="grid grid-cols-2 gap-8 text-center mb-8">
        <div>
          <div id="stat-then" class="text-5xl font-extrabold" style="color: var(--demosthenes)">78%</div>
          <div class="text-sm opacity-70 mt-1">of debate was audience-facing in 1925</div>
        </div>
        <div>
          <div class="text-5xl font-extrabold" style="color: var(--cicero)">~5%</div>
          <div class="text-sm opacity-70 mt-1">is audience-facing today</div>
        </div>
      </div>
      
      <!-- Quote -->
      <div class="quote-card bg-white/5 border-l-4 rounded-r-lg p-6" style="border-color: var(--demosthenes)">
        <p class="text-lg italic">"The tournament was a throughput hack. It was never meant to replace the audience."</p>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCENE 3: OPTIMIZATION GAME
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="scene-optimization" class="min-h-screen flex items-center justify-center px-6 py-20">
    <div class="max-w-4xl mx-auto w-full">
      <header class="text-center mb-12">
        <span class="text-xs tracking-[0.15em] uppercase font-semibold" style="color: var(--demosthenes)">03</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-3">The Optimization Game</h2>
        <p class="text-stone-500">Toggle between audiences. Watch the argument mutate.</p>
      </header>
      
      <!-- Toggle buttons -->
      <div class="flex flex-wrap gap-4 justify-center mb-10">
        <button id="btn-audience" class="px-6 py-3 rounded-lg font-semibold transition-all flex items-center gap-2 border-2" style="background: var(--demosthenes); color: white; border-color: var(--demosthenes)">
          <span class="text-xl">ğŸ‘¥</span> Optimize for Audience
        </button>
        <button id="btn-judge" class="px-6 py-3 rounded-lg font-semibold transition-all flex items-center gap-2 border-2 border-stone-300 text-stone-600 bg-white hover:border-stone-400">
          <span class="text-xl">ğŸ“‹</span> Optimize for Judge
        </button>
      </div>
      
      <!-- Content grid -->
      <div class="grid md:grid-cols-2 gap-8 mb-10">
        <!-- Argument panel -->
        <div class="bg-white rounded-xl p-6 shadow-lg">
          <div class="text-xs uppercase tracking-wide text-stone-400 mb-4">The Argument</div>
          <div id="argument-text" class="text-lg leading-relaxed transition-all"></div>
        </div>
        
        <!-- Room visualization -->
        <div id="room-viz" class="rounded-xl p-6 flex flex-col items-center justify-center min-h-[200px] transition-all duration-500 bg-gradient-to-b from-emerald-600 to-emerald-800">
          <div id="room-chairs" class="grid grid-cols-5 gap-2 mb-4"></div>
          <div id="room-label" class="text-sm uppercase tracking-wide text-white/80">Public Forum</div>
        </div>
      </div>
      
      <!-- Comprehension meters -->
      <div class="grid md:grid-cols-2 gap-6 mb-10">
        <div class="bg-white rounded-lg p-4 shadow-sm">
          <div class="flex items-center gap-2 mb-2">
            <span class="text-xl">ğŸ“</span>
            <span class="font-semibold">Expert Judge</span>
          </div>
          <div class="h-3 bg-stone-200 rounded-full overflow-hidden">
            <div id="judge-meter" class="h-full rounded-full transition-all duration-300" style="width: 65%; background: var(--cicero)"></div>
          </div>
          <div id="judge-value" class="text-right text-sm font-semibold mt-1">65%</div>
        </div>
        
        <div class="bg-white rounded-lg p-4 shadow-sm">
          <div class="flex items-center gap-2 mb-2">
            <span class="text-xl">ğŸ‘¤</span>
            <span class="font-semibold">General Public</span>
          </div>
          <div class="h-3 bg-stone-200 rounded-full overflow-hidden">
            <div id="public-meter" class="h-full rounded-full transition-all duration-300" style="width: 92%; background: var(--sage)"></div>
          </div>
          <div id="public-value" class="text-right text-sm font-semibold mt-1">92%</div>
        </div>
      </div>
      
      <!-- Quote -->
      <div class="quote-card bg-white border-l-4 rounded-r-lg p-6 shadow-sm" style="border-color: var(--cicero)">
        <p class="text-lg italic text-stone-700">"At 350 words per minute, you're not persuading anyone. You're performing expertise to an expert."</p>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCENE 4: MIMESIS LOOP
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="scene-mimesis" class="min-h-screen flex items-center justify-center px-6 py-20" style="background: var(--ink); color: var(--cream)">
    <div class="max-w-4xl mx-auto w-full">
      <header class="text-center mb-12">
        <span class="text-xs tracking-[0.15em] uppercase font-semibold opacity-70">04</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-3">The Mimesis Trap</h2>
        <p class="opacity-70">Run generations. Watch arguments collapse into code.</p>
      </header>
      
      <!-- Controls -->
      <div class="flex flex-wrap gap-4 items-center justify-center mb-8">
        <button id="btn-run" class="px-6 py-3 rounded-lg font-semibold text-white transition-all hover:brightness-110" style="background: var(--demosthenes)">
          Run Generation
        </button>
        <button id="btn-reset" class="px-6 py-3 rounded-lg font-semibold transition-all border-2 border-white/30 text-white/80 hover:border-white/50">
          Reset
        </button>
        <div class="px-4 py-2 rounded bg-white/10 font-semibold">
          Generation: <span id="gen-count">0</span>
        </div>
      </div>
      
      <!-- Argument population -->
      <div id="arg-population" class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-8 min-h-[180px]"></div>
      
      <!-- Metrics -->
      <div class="grid grid-cols-3 gap-4 mb-8">
        <div class="bg-white/5 rounded-lg p-4">
          <div class="flex justify-between text-sm mb-2">
            <span class="opacity-70">Diversity</span>
            <span id="diversity-val" class="font-bold">100%</span>
          </div>
          <div class="h-2 bg-white/10 rounded-full overflow-hidden">
            <div id="diversity-bar" class="h-full rounded-full transition-all" style="width: 100%; background: var(--sage)"></div>
          </div>
        </div>
        <div class="bg-white/5 rounded-lg p-4">
          <div class="flex justify-between text-sm mb-2">
            <span class="opacity-70">Comprehensibility</span>
            <span id="comp-val" class="font-bold">95%</span>
          </div>
          <div class="h-2 bg-white/10 rounded-full overflow-hidden">
            <div id="comp-bar" class="h-full rounded-full transition-all" style="width: 95%; background: var(--demosthenes)"></div>
          </div>
        </div>
        <div class="bg-white/5 rounded-lg p-4">
          <div class="flex justify-between text-sm mb-2">
            <span class="opacity-70">Win Rate</span>
            <span id="win-val" class="font-bold">50%</span>
          </div>
          <div class="h-2 bg-white/10 rounded-full overflow-hidden">
            <div id="win-bar" class="h-full rounded-full transition-all" style="width: 50%; background: var(--cicero)"></div>
          </div>
        </div>
      </div>
      
      <!-- Audience pressure -->
      <div class="bg-white/5 rounded-xl p-6 mb-8">
        <label class="block font-semibold mb-4">
          Audience Pressure
          <span class="font-normal opacity-70 ml-2">(Reintroduce real people)</span>
        </label>
        <input 
          type="range" 
          id="pressure-slider" 
          min="0" max="100" value="0"
          class="w-full"
          style="background: linear-gradient(90deg, var(--cicero), var(--sage), var(--demosthenes))"
        >
        <div class="flex justify-between text-xs opacity-70 mt-2">
          <span>Tournament Only</span>
          <span>Public Debate</span>
        </div>
      </div>
      
      <!-- Quote -->
      <div class="quote-card bg-white/5 border-l-4 rounded-r-lg p-6" style="border-color: var(--sage)">
        <p class="text-lg italic">"Closed-loop mimesis is model collapse for humans. Copy the winners, compress the signal, lose the meaning."</p>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCENE 5: FORMAT BUILDER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="scene-builder" class="min-h-screen flex items-center justify-center px-6 py-20">
    <div class="max-w-5xl mx-auto w-full">
      <header class="text-center mb-12">
        <span class="text-xs tracking-[0.15em] uppercase font-semibold" style="color: var(--demosthenes)">05</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-3">Rebuild the Public Debate</h2>
        <p class="text-stone-500">Design a format. See what it optimizes for.</p>
      </header>
      
      <div class="grid lg:grid-cols-2 gap-10">
        <!-- Controls -->
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Audience Type</label>
            <select id="ctrl-audience" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="general">General Public</option>
              <option value="students">Students</option>
              <option value="community">Community Members</option>
              <option value="experts">Domain Experts</option>
              <option value="lawmakers">Lawmakers</option>
            </select>
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Stakes</label>
            <select id="ctrl-stakes" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="educational">Educational Only</option>
              <option value="recommendation">Audience Recommendation</option>
              <option value="binding">Binding Decision</option>
              <option value="policy">Policy Change</option>
            </select>
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Prep Time</label>
            <select id="ctrl-time" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="none">None (Impromptu)</option>
              <option value="hours">Hours</option>
              <option value="days">Days</option>
              <option value="weeks">Weeks (Contract)</option>
            </select>
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Evidence Norms</label>
            <select id="ctrl-evidence" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="none">No Requirements</option>
              <option value="cite">Cite Sources</option>
              <option value="verify">Verifiable Claims</option>
              <option value="live">Live Fact-Check</option>
            </select>
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Who Decides</label>
            <select id="ctrl-judging" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="audience">Audience Vote</option>
              <option value="panel">Expert Panel</option>
              <option value="hybrid">Hybrid (Both)</option>
              <option value="single">Single Judge</option>
            </select>
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Venue</label>
            <select id="ctrl-venue" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="public">Public Space</option>
              <option value="campus">Campus Auditorium</option>
              <option value="online">Online Broadcast</option>
              <option value="classroom">Classroom</option>
            </select>
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Publication</label>
            <select id="ctrl-publication" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="none">None</option>
              <option value="recorded">Recorded</option>
              <option value="broadcast">Live Broadcast</option>
              <option value="newspaper">Media Coverage</option>
            </select>
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-stone-500 block mb-1">Rewards</label>
            <select id="ctrl-rewards" class="w-full p-3 rounded-lg border-2 border-stone-200 focus:border-blue-400 transition-colors bg-white">
              <option value="none">Intrinsic Only</option>
              <option value="recognition">Public Recognition</option>
              <option value="trophy">Trophy/Ranking</option>
              <option value="consequence">Real Consequence</option>
            </select>
          </div>
        </div>
        
        <!-- Output -->
        <div>
          <div class="bg-white rounded-xl p-6 shadow-xl">
            <h3 id="format-title" class="text-xl font-bold text-center mb-6">Your Format</h3>
            
            <div class="space-y-4 mb-6">
              <div class="flex items-center gap-4">
                <span class="text-sm font-medium w-32">Public Persuasion</span>
                <div class="flex-1 h-3 bg-stone-200 rounded-full overflow-hidden">
                  <div id="score-persuasion" class="h-full rounded-full transition-all" style="width: 0%; background: var(--demosthenes)"></div>
                </div>
                <span id="val-persuasion" class="text-sm font-bold w-8">0</span>
              </div>
              <div class="flex items-center gap-4">
                <span class="text-sm font-medium w-32">Educational Value</span>
                <div class="flex-1 h-3 bg-stone-200 rounded-full overflow-hidden">
                  <div id="score-education" class="h-full rounded-full transition-all" style="width: 0%; background: var(--sage)"></div>
                </div>
                <span id="val-education" class="text-sm font-bold w-8">0</span>
              </div>
              <div class="flex items-center gap-4">
                <span class="text-sm font-medium w-32">Accessibility</span>
                <div class="flex-1 h-3 bg-stone-200 rounded-full overflow-hidden">
                  <div id="score-access" class="h-full rounded-full transition-all" style="width: 0%; background: var(--cicero)"></div>
                </div>
                <span id="val-access" class="text-sm font-bold w-8">0</span>
              </div>
            </div>
            
            <div id="format-verdict" class="text-center text-stone-500 italic py-4 border-t border-stone-100">
              Adjust the parameters to design your format.
            </div>
          </div>
          
          <button id="share-btn" class="w-full mt-4 px-6 py-3 rounded-lg font-semibold text-white transition-all hover:brightness-110 flex items-center justify-center gap-2" style="background: var(--demosthenes)">
            ğŸ“‹ Copy Format Link
          </button>
        </div>
      </div>
      
      <!-- Quote -->
      <div class="quote-card bg-gradient-to-r from-white to-stone-50 border-l-4 rounded-r-lg p-6 shadow-sm mt-12" style="border-color: var(--demosthenes)">
        <p class="text-lg italic text-stone-700">"What if we rebuilt debate around a simple question: Would this move a room full of strangers to act?"</p>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FINALE
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="finale" class="min-h-screen flex items-center justify-center px-6 py-20 text-white" style="background: linear-gradient(180deg, var(--demosthenes), var(--ink))">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-4xl md:text-5xl font-extrabold mb-10">The Rooms Are Waiting</h2>
      
      <!-- Transformation visualization -->
      <div class="flex justify-center gap-8 mb-12">
        <div class="w-48 h-36 rounded-xl border-2 border-dashed border-white/30 flex flex-col items-center justify-center gap-4 bg-white/5">
          <div class="grid grid-cols-4 gap-1">
            <span class="w-3 h-3 rounded-full border border-white/30"></span>
            <span class="w-3 h-3 rounded-full border border-white/30"></span>
            <span class="w-3 h-3 rounded-full border border-white/30"></span>
            <span class="w-3 h-3 rounded-full border border-white/30"></span>
          </div>
          <span class="text-xs uppercase tracking-wide opacity-60">Tournament Room</span>
        </div>
        <div class="w-48 h-36 rounded-xl flex flex-col items-center justify-center gap-4" style="background: var(--sage)">
          <div class="grid grid-cols-5 gap-1">
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
            <span class="w-3 h-3 rounded-full bg-white"></span>
          </div>
          <span class="text-xs uppercase tracking-wide text-white/80">Public Forum</span>
        </div>
      </div>
      
      <p class="text-xl leading-relaxed opacity-90 mb-10">
        Debate doesn't need to die in empty classrooms.<br>
        The skills are there. The hunger for civic discourse is there.<br>
        All that's missing is the audience.
      </p>
      
      <p class="text-3xl font-extrabold" style="color: var(--sage)">Fill the room.</p>
      
      <!-- Quote gallery -->
      <div id="quote-gallery" class="grid md:grid-cols-2 gap-4 mt-16 text-left"></div>
      
      <footer class="mt-16 pt-8 border-t border-white/10 text-sm opacity-60">
        <p>Inspired by Dr. Stephen Llano's podcast on the future of debate education.</p>
        <p class="mt-2 text-xs">An interactive essay in the spirit of Bret Victor and Bartosz Ciechanowski.</p>
      </footer>
    </div>
  </section>

  <script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // DATA
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const speechTransforms = {
      0: {
        text: "We must consider the implications of this policy on our institutional frameworks and procedural norms.",
        emphasis: [],
        pacing: "measured",
        reaction: 20
      },
      25: {
        text: "We must consider what this policy meansâ€”for our institutions, for our norms, for how we govern.",
        emphasis: ["means"],
        pacing: "deliberate",
        reaction: 35
      },
      50: {
        text: "Think about what this policy will do. To our institutions. To our rules. To us.",
        emphasis: ["do", "us"],
        pacing: "pointed",
        reaction: 55
      },
      75: {
        text: "This policy will break what we've built. It will tear down the rules. It will hurt people like you.",
        emphasis: ["break", "tear", "hurt", "you"],
        pacing: "urgent",
        reaction: 75
      },
      100: {
        text: "They want to destroy everything we built. Are you going to let them? Stand up. Fight back. Now.",
        emphasis: ["destroy", "you", "Stand", "Fight", "Now"],
        pacing: "commanding",
        reaction: 95
      }
    };
    
    const timelineFormats = [
      { id: "classical", name: "Classical Oratory", peak: 1780, audienceCentric: true, optimizedFor: ["audience", "civic virtue", "memory"], description: "Students memorized and performed great speeches. The Columbian Orator trained Frederick Douglass.", prevalence: { 1700: 70, 1800: 75, 1900: 15, 2000: 2, 2025: 1 } },
      { id: "literary", name: "Literary Societies", peak: 1870, audienceCentric: true, optimizedFor: ["peer learning", "civic participation"], description: "Student-led societies where young people practiced argument before live audiences.", prevalence: { 1700: 5, 1800: 50, 1900: 60, 1950: 20, 2000: 5, 2025: 3 } },
      { id: "triangular", name: "Triangular Leagues", peak: 1925, audienceCentric: true, optimizedFor: ["audience", "prestige", "public engagement"], description: "Yale-Harvard-Princeton style. Community events. Newspapers covered results.", prevalence: { 1700: 0, 1900: 40, 1950: 35, 2000: 5, 2025: 2 } },
      { id: "contract", name: "Contract Debates", peak: 1940, audienceCentric: true, optimizedFor: ["audience", "topic depth", "public persuasion"], description: "Schools agreed on topics in advance. Performed for real audiences who voted.", prevalence: { 1700: 0, 1900: 20, 1950: 40, 2000: 3, 2025: 1 } },
      { id: "tournament", name: "Tournament Circuit", peak: 2000, audienceCentric: false, optimizedFor: ["throughput", "judge expertise", "competitive ranking"], description: "J. Thompson Baker's innovation: more debates per debater. Became the only game.", prevalence: { 1700: 0, 1950: 45, 2000: 90, 2025: 95 } },
      { id: "speed", name: "Speed/Policy", peak: 2010, audienceCentric: false, optimizedFor: ["information density", "technical tricks", "judge flow"], description: "Speaking at 300+ words per minute. Arguments as code. Incomprehensible to outsiders.", prevalence: { 1700: 0, 1970: 10, 2000: 60, 2025: 50 } },
      { id: "pf", name: "Public Forum", peak: 2020, audienceCentric: "partial", optimizedFor: ["accessibility", "lay judges", "current events"], description: "Created as a corrective. But still exists within tournament logic.", prevalence: { 1700: 0, 2002: 5, 2015: 30, 2025: 40 } }
    ];
    
    const originalArguments = [
      "Climate policy requires immediate action because future generations depend on our choices today.",
      "Healthcare is a fundamental right that ensures dignity for all citizens.",
      "Educational reform must prioritize critical thinking over standardized testing.",
      "Economic inequality undermines democratic participation and social cohesion.",
      "Technology regulation should balance innovation with privacy protections.",
      "Immigration policy affects both security and humanitarian obligations.",
      "Criminal justice reform is essential for addressing systemic inequities.",
      "Environmental protection and economic growth can be mutually reinforcing."
    ];
    
    const collapsedArguments = [
      "T-K aff solves extinction via util calc spec",
      "DA: econ turn â€” cap K alt solvency deficit",
      "CP: states CP solves w/o fed link-turn",
      "Perm: do both â€” net benefit flows aff",
      "Framework: util > deont, extend Korsgaard",
      "Impact turn: heg bad, extend Mearsheimer",
      "AT: case turn â€” 2AC ev outweighs",
      "K: biopower link, Agamben, alt solves"
    ];
    
    const shareableQuotes = [
      { text: "We trained a generation to win arguments in empty rooms. Then we wondered why they couldn't move a crowd.", type: "demosthenes" },
      { text: "Optimize for judges, and you get arguments that judges love. Optimize for humans, and you get persuasion.", type: "demosthenes" },
      { text: "A format that no audience can follow is a format that has forgotten its purpose.", type: "demosthenes" },
      { text: "Debate isn't dying. It's just been locked in a room where no one can see it.", type: "neutral" }
    ];
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MIMESIS STATE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    let mimesisState = {
      generation: 0,
      arguments: [...originalArguments],
      diversity: 100,
      comprehension: 95,
      winrate: 50,
      pressure: 0
    };
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // INITIALIZATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    document.addEventListener('DOMContentLoaded', () => {
      initProgress();
      initSlider();
      initTimeline();
      initOptimization();
      initMimesis();
      initBuilder();
      initFinale();
    });
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PROGRESS BAR
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initProgress() {
      const bar = document.getElementById('progress');
      window.addEventListener('scroll', () => {
        const scrollTop = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        bar.style.width = `${(scrollTop / docHeight) * 100}%`;
      }, { passive: true });
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SCENE 1: SLIDER
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initSlider() {
      const slider = document.getElementById('rhetoric-slider');
      const speechText = document.getElementById('speech-text');
      const pacingValue = document.getElementById('pacing-value');
      const audienceMeter = document.getElementById('audience-meter');
      const speechCard = document.getElementById('speech-card');
      
      function update(value) {
        const levels = [0, 25, 50, 75, 100];
        const closest = levels.reduce((a, b) => Math.abs(b - value) < Math.abs(a - value) ? b : a);
        const t = speechTransforms[closest];
        
        let html = t.text;
        t.emphasis.forEach(word => {
          html = html.replace(new RegExp(`\\b(${word})\\b`, 'gi'), '<span class="emphasis">$1</span>');
        });
        
        speechText.innerHTML = html;
        pacingValue.textContent = t.pacing;
        audienceMeter.style.width = `${t.reaction}%`;
        
        const hue = 10 + (value * 2);
        speechCard.style.borderColor = `hsl(${hue}, 60%, 55%)`;
      }
      
      slider.addEventListener('input', e => update(parseInt(e.target.value)));
      update(0);
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SCENE 2: TIMELINE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initTimeline() {
      const container = document.getElementById('timeline-viz');
      const slider = document.getElementById('timeline-slider');
      const yearDisplay = document.getElementById('timeline-year');
      const formatName = document.getElementById('format-name');
      const formatDesc = document.getElementById('format-desc');
      const formatTags = document.getElementById('format-tags');
      const statThen = document.getElementById('stat-then');
      
      const width = container.clientWidth;
      const height = 280;
      const margin = { top: 20, right: 20, bottom: 40, left: 20 };
      
      const svg = d3.select(container).append('svg')
        .attr('width', '100%')
        .attr('height', height)
        .attr('viewBox', `0 0 ${width} ${height}`);
      
      const x = d3.scaleLinear().domain([1700, 2025]).range([margin.left, width - margin.right]);
      const y = d3.scaleLinear().domain([0, 100]).range([height - margin.bottom, margin.top]);
      const r = d3.scaleSqrt().domain([0, 100]).range([8, 50]);
      
      // X-axis
      svg.append('g')
        .attr('transform', `translate(0, ${height - margin.bottom})`)
        .call(d3.axisBottom(x).tickValues([1700, 1800, 1900, 1950, 2000, 2025]).tickFormat(d3.format('d')))
        .selectAll('text').attr('fill', 'rgba(247,245,243,0.6)').attr('font-size', '11px');
      
      svg.selectAll('path, line').attr('stroke', 'rgba(247,245,243,0.2)');
      
      // Bubbles
      const bubbles = svg.selectAll('.bubble')
        .data(timelineFormats)
        .join('g')
        .attr('class', 'timeline-bubble')
        .attr('transform', d => `translate(${x(d.peak)}, ${y(50)})`);
      
      bubbles.append('circle')
        .attr('r', 0)
        .attr('fill', d => d.audienceCentric === true ? '#6B8DB9' : d.audienceCentric === 'partial' ? '#81B29A' : '#E07A5F')
        .attr('opacity', 0.85);
      
      bubbles.append('text')
        .attr('text-anchor', 'middle')
        .attr('dy', '0.35em')
        .attr('fill', 'white')
        .attr('font-size', '10px')
        .attr('font-weight', '600')
        .text(d => d.name.split(' ')[0])
        .style('opacity', 0)
        .style('pointer-events', 'none');
      
      function interpolate(prev, year) {
        const years = Object.keys(prev).map(Number).sort((a, b) => a - b);
        if (year <= years[0]) return prev[years[0]];
        if (year >= years[years.length - 1]) return prev[years[years.length - 1]];
        for (let i = 0; i < years.length - 1; i++) {
          if (year >= years[i] && year <= years[i + 1]) {
            const t = (year - years[i]) / (years[i + 1] - years[i]);
            return prev[years[i]] * (1 - t) + prev[years[i + 1]] * t;
          }
        }
        return 0;
      }
      
      function updateTimeline(year) {
        bubbles.select('circle')
          .transition().duration(200)
          .attr('r', d => r(interpolate(d.prevalence, year)));
        
        bubbles.select('text')
          .transition().duration(200)
          .style('opacity', d => interpolate(d.prevalence, year) > 25 ? 1 : 0);
        
        // Calculate audience percentage
        let total = 0, audience = 0;
        timelineFormats.forEach(f => {
          const p = interpolate(f.prevalence, year);
          total += p;
          if (f.audienceCentric === true) audience += p;
          else if (f.audienceCentric === 'partial') audience += p * 0.5;
        });
        statThen.textContent = `${Math.round((audience / total) * 100)}%`;
      }
      
      bubbles.on('click', (e, d) => {
        formatName.textContent = d.name;
        formatDesc.textContent = d.description;
        formatTags.innerHTML = d.optimizedFor.map(t => 
          `<span class="px-2 py-1 text-xs rounded ${d.audienceCentric ? 'bg-blue-900/30 text-blue-300' : 'bg-orange-900/30 text-orange-300'}">${t}</span>`
        ).join('');
      });
      
      slider.addEventListener('input', e => {
        const year = parseInt(e.target.value);
        yearDisplay.textContent = year;
        updateTimeline(year);
      });
      
      updateTimeline(1925);
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SCENE 3: OPTIMIZATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initOptimization() {
      const btnAudience = document.getElementById('btn-audience');
      const btnJudge = document.getElementById('btn-judge');
      const argumentText = document.getElementById('argument-text');
      const roomViz = document.getElementById('room-viz');
      const roomChairs = document.getElementById('room-chairs');
      const roomLabel = document.getElementById('room-label');
      const judgeMeter = document.getElementById('judge-meter');
      const publicMeter = document.getElementById('public-meter');
      const judgeValue = document.getElementById('judge-value');
      const publicValue = document.getElementById('public-value');
      
      const audienceArg = `Climate change threatens our communitiesâ€”our farms, our coastlines, our children's futures. The science is clear. The solutions exist. What's missing is the will to act. Tonight, I'm asking you: are we going to wait for the flood, or are we going to build the ark?`;
      const judgeArg = `Aff claims solvency via IPCC AR6 WG3 mitigation pathways. Extend Nordhaus '21 SCC calc â†’ $185/ton by 2030. DA: econ disad non-unique, extend 1AC Stern ev on transition costs. Vote aff on probability-adjusted expected value; util calc flows aff.`;
      
      let isAudience = true;
      
      function setMode(audience) {
        isAudience = audience;
        
        btnAudience.style.background = audience ? 'var(--demosthenes)' : 'white';
        btnAudience.style.color = audience ? 'white' : '#57534e';
        btnAudience.style.borderColor = audience ? 'var(--demosthenes)' : '#d6d3d1';
        
        btnJudge.style.background = !audience ? 'var(--cicero)' : 'white';
        btnJudge.style.color = !audience ? 'white' : '#57534e';
        btnJudge.style.borderColor = !audience ? 'var(--cicero)' : '#d6d3d1';
        
        argumentText.innerHTML = audience ? audienceArg : judgeArg;
        argumentText.style.fontFamily = audience ? 'inherit' : "'Fira Code', monospace";
        argumentText.style.fontSize = audience ? '1.125rem' : '0.8rem';
        
        roomViz.style.background = audience 
          ? 'linear-gradient(to bottom, #059669, #047857)' 
          : 'linear-gradient(to bottom, #a8a29e, #78716c)';
        
        roomChairs.innerHTML = '';
        const count = audience ? 18 : 3;
        for (let i = 0; i < 20; i++) {
          const chair = document.createElement('div');
          chair.className = `chair ${i < count ? 'chair-filled' : 'chair-empty'}`;
          if (i < count && audience) chair.style.animationDelay = `${i * 30}ms`;
          roomChairs.appendChild(chair);
        }
        
        roomLabel.textContent = audience ? 'Public Forum' : 'Tournament Room';
        
        judgeMeter.style.width = audience ? '65%' : '98%';
        publicMeter.style.width = audience ? '92%' : '12%';
        judgeValue.textContent = audience ? '65%' : '98%';
        publicValue.textContent = audience ? '92%' : '12%';
      }
      
      btnAudience.addEventListener('click', () => setMode(true));
      btnJudge.addEventListener('click', () => setMode(false));
      setMode(true);
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SCENE 4: MIMESIS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initMimesis() {
      const population = document.getElementById('arg-population');
      const btnRun = document.getElementById('btn-run');
      const btnReset = document.getElementById('btn-reset');
      const genCount = document.getElementById('gen-count');
      const pressureSlider = document.getElementById('pressure-slider');
      
      const diversityBar = document.getElementById('diversity-bar');
      const compBar = document.getElementById('comp-bar');
      const winBar = document.getElementById('win-bar');
      const diversityVal = document.getElementById('diversity-val');
      const compVal = document.getElementById('comp-val');
      const winVal = document.getElementById('win-val');
      
      function reset() {
        mimesisState = {
          generation: 0,
          arguments: [...originalArguments],
          diversity: 100,
          comprehension: 95,
          winrate: 50,
          pressure: 0
        };
        pressureSlider.value = 0;
        render();
        updateMetrics();
      }
      
      function runGeneration() {
        if (mimesisState.generation >= 10) return;
        mimesisState.generation++;
        
        const collapseRate = 1 - (mimesisState.pressure / 100);
        const progress = mimesisState.generation / 10;
        const adjusted = progress * collapseRate;
        
        mimesisState.arguments = mimesisState.arguments.map((arg, i) => {
          if (adjusted > 0.6) return collapsedArguments[i % collapsedArguments.length];
          if (adjusted > 0.3) {
            const words = arg.split(' ');
            return words.slice(0, Math.floor(words.length * (1 - adjusted))).join(' ') + '...';
          }
          return arg;
        });
        
        mimesisState.diversity = Math.max(10, 100 - mimesisState.generation * 12 * collapseRate);
        mimesisState.comprehension = Math.max(8, 95 - mimesisState.generation * 12 * collapseRate);
        mimesisState.winrate = Math.min(95, 50 + mimesisState.generation * 6 * collapseRate);
        
        render();
        updateMetrics();
      }
      
      function render() {
        population.innerHTML = '';
        mimesisState.arguments.forEach((arg, i) => {
          const card = document.createElement('div');
          card.className = 'arg-card bg-white/10 rounded-lg p-3 text-xs leading-relaxed border-2 border-transparent';
          if (mimesisState.generation > 2 && i % 3 === 0) card.classList.add('winner');
          if (arg.includes('â†’') || arg.includes('extend')) card.classList.add('collapsed');
          card.textContent = arg;
          population.appendChild(card);
        });
        genCount.textContent = mimesisState.generation;
      }
      
      function updateMetrics() {
        diversityBar.style.width = `${mimesisState.diversity}%`;
        compBar.style.width = `${mimesisState.comprehension}%`;
        winBar.style.width = `${mimesisState.winrate}%`;
        diversityVal.textContent = `${Math.round(mimesisState.diversity)}%`;
        compVal.textContent = `${Math.round(mimesisState.comprehension)}%`;
        winVal.textContent = `${Math.round(mimesisState.winrate)}%`;
      }
      
      btnRun.addEventListener('click', runGeneration);
      btnReset.addEventListener('click', reset);
      pressureSlider.addEventListener('input', e => {
        mimesisState.pressure = parseInt(e.target.value);
        const collapseRate = 1 - (mimesisState.pressure / 100);
        mimesisState.diversity = Math.max(10, 100 - mimesisState.generation * 12 * collapseRate);
        mimesisState.comprehension = Math.max(8, 95 - mimesisState.generation * 12 * collapseRate);
        updateMetrics();
      });
      
      reset();
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SCENE 5: BUILDER
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initBuilder() {
      const controls = {
        audience: document.getElementById('ctrl-audience'),
        stakes: document.getElementById('ctrl-stakes'),
        time: document.getElementById('ctrl-time'),
        evidence: document.getElementById('ctrl-evidence'),
        judging: document.getElementById('ctrl-judging'),
        venue: document.getElementById('ctrl-venue'),
        publication: document.getElementById('ctrl-publication'),
        rewards: document.getElementById('ctrl-rewards')
      };
      
      const weights = {
        audience: { general: { p: 25, e: 15, a: 25 }, students: { p: 15, e: 25, a: 20 }, community: { p: 25, e: 20, a: 20 }, experts: { p: 10, e: 20, a: 5 }, lawmakers: { p: 30, e: 10, a: 10 } },
        stakes: { educational: { p: 0, e: 20, a: 15 }, recommendation: { p: 15, e: 15, a: 10 }, binding: { p: 25, e: 10, a: 5 }, policy: { p: 30, e: 15, a: 5 } },
        time: { none: { p: 5, e: 5, a: 20 }, hours: { p: 10, e: 10, a: 15 }, days: { p: 15, e: 20, a: 10 }, weeks: { p: 20, e: 25, a: 5 } },
        evidence: { none: { p: 5, e: 0, a: 20 }, cite: { p: 10, e: 10, a: 15 }, verify: { p: 15, e: 20, a: 10 }, live: { p: 15, e: 15, a: 10 } },
        judging: { audience: { p: 30, e: 10, a: 25 }, panel: { p: 10, e: 20, a: 5 }, hybrid: { p: 20, e: 15, a: 15 }, single: { p: 5, e: 15, a: 5 } },
        venue: { public: { p: 25, e: 15, a: 25 }, campus: { p: 15, e: 20, a: 15 }, online: { p: 15, e: 10, a: 30 }, classroom: { p: 5, e: 25, a: 10 } },
        publication: { none: { p: 0, e: 0, a: 0 }, recorded: { p: 10, e: 5, a: 10 }, broadcast: { p: 20, e: 10, a: 25 }, newspaper: { p: 25, e: 5, a: 20 } },
        rewards: { none: { p: 10, e: 15, a: 15 }, recognition: { p: 15, e: 10, a: 10 }, trophy: { p: 5, e: 5, a: 0 }, consequence: { p: 25, e: 10, a: 5 } }
      };
      
      const verdicts = {
        high: ["This is a Demosthenes format. People will march.", "Public persuasion excellence. Debate for democracy.", "Strong civic potential. This moves people to act."],
        med: ["A balanced approach. Room for improvement.", "Good educational value. Consider more public exposure.", "Decent foundation. Push toward real stakes."],
        low: ["This optimizes for insiders, not the public.", "Tournament logic detected. Where's the audience?", "Technical skill, but who's being persuaded?"]
      };
      
      function update() {
        let p = 0, e = 0, a = 0;
        Object.entries(controls).forEach(([key, el]) => {
          const w = weights[key]?.[el.value];
          if (w) { p += w.p; e += w.e; a += w.a; }
        });
        p = Math.min(100, p); e = Math.min(100, e); a = Math.min(100, a);
        
        document.getElementById('score-persuasion').style.width = `${p}%`;
        document.getElementById('score-education').style.width = `${e}%`;
        document.getElementById('score-access').style.width = `${a}%`;
        document.getElementById('val-persuasion').textContent = p;
        document.getElementById('val-education').textContent = e;
        document.getElementById('val-access').textContent = a;
        
        const avg = (p + e + a) / 3;
        const pool = avg > 65 ? verdicts.high : avg > 40 ? verdicts.med : verdicts.low;
        document.getElementById('format-verdict').textContent = pool[Math.floor(Math.random() * pool.length)];
        
        const audType = controls.audience.options[controls.audience.selectedIndex].text;
        const judgType = controls.judging.options[controls.judging.selectedIndex].text;
        document.getElementById('format-title').textContent = `${audType} ${judgType} Format`;
      }
      
      Object.values(controls).forEach(c => c.addEventListener('change', update));
      
      document.getElementById('share-btn').addEventListener('click', function() {
        const params = new URLSearchParams();
        Object.entries(controls).forEach(([k, el]) => params.set(k, el.value));
        const url = `${location.origin}${location.pathname}?${params}`;
        navigator.clipboard.writeText(url).then(() => {
          this.textContent = 'âœ“ Copied!';
          setTimeout(() => this.innerHTML = 'ğŸ“‹ Copy Format Link', 2000);
        });
      });
      
      // Load from URL params
      const params = new URLSearchParams(location.search);
      Object.entries(controls).forEach(([k, el]) => { if (params.has(k)) el.value = params.get(k); });
      
      update();
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // FINALE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initFinale() {
      const gallery = document.getElementById('quote-gallery');
      shareableQuotes.forEach(q => {
        const card = document.createElement('div');
        card.className = `p-4 rounded-lg bg-white/5 text-sm italic cursor-pointer transition hover:bg-white/10 border-l-2 ${q.type === 'demosthenes' ? 'border-blue-400' : 'border-orange-400'}`;
        card.textContent = q.text;
        card.addEventListener('click', () => {
          navigator.clipboard.writeText(q.text);
          card.style.opacity = '0.5';
          setTimeout(() => card.style.opacity = '1', 200);
        });
        gallery.appendChild(card);
      });
    }
  </script>
</body>
</html>
