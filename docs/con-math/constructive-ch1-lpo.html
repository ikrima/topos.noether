<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Limited Principle of Omniscience — Constructive Analysis</title>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Source+Sans+Pro:wght@300;400;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --constructive-primary: #2D5A4A;
      --constructive-secondary: #8B4513;
      --constructive-glow: #4A9D7C;
      --classical-primary: #4A3C6D;
      --classical-secondary: #C9B037;
      --classical-glow: #8B7ACC;
      --algorithm-accent: #E07B39;
      --undecidable-fog: #6B7280;
      --fog-light: #9CA3AF;
      --proof-valid: #059669;
      --proof-invalid: #DC2626;
      --background: #FAF8F5;
      --background-dark: #0F0F12;
      --ink: #1A1A1A;
      --ink-light: #FAF8F5;
      
      --display: 'Crimson Text', serif;
      --body: 'Source Sans Pro', sans-serif;
      --mono: 'JetBrains Mono', monospace;
      
      --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--body);
      background: var(--background-dark);
      color: var(--ink-light);
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* ============================================
       OPENING
       ============================================ */
    
    .opening {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      background: linear-gradient(180deg, #0F0F12 0%, #1A1A20 100%);
      position: relative;
      overflow: hidden;
    }

    .opening::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(ellipse at 50% 120%, rgba(107, 114, 128, 0.15) 0%, transparent 60%);
      pointer-events: none;
    }

    /* Perspective floor grid */
    .perspective-grid {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 50%;
      background: 
        linear-gradient(90deg, rgba(107, 114, 128, 0.1) 1px, transparent 1px),
        linear-gradient(0deg, rgba(107, 114, 128, 0.1) 1px, transparent 1px);
      background-size: 60px 60px;
      transform: perspective(500px) rotateX(60deg);
      transform-origin: bottom;
      opacity: 0.5;
    }

    .opening-content {
      text-align: center;
      position: relative;
      z-index: 1;
      max-width: 800px;
    }

    .section-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--fog-light);
      margin-bottom: 1rem;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out-expo) 0.2s forwards;
    }

    .main-title {
      font-family: var(--display);
      font-size: clamp(2rem, 6vw, 3.5rem);
      font-weight: 400;
      line-height: 1.2;
      margin-bottom: 1.5rem;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out-expo) 0.4s forwards;
    }

    .main-title .highlight {
      color: var(--algorithm-accent);
    }

    .subtitle {
      font-size: 1.15rem;
      color: var(--fog-light);
      max-width: 600px;
      margin: 0 auto;
      opacity: 0;
      animation: fadeUp 0.8s var(--ease-out-expo) 0.6s forwards;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ============================================
       NARRATIVE SECTIONS
       ============================================ */

    .narrative-section {
      min-height: 80vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4rem 2rem;
      position: relative;
    }

    .narrative-section.light {
      background: var(--background);
      color: var(--ink);
    }

    .narrative-content {
      max-width: 650px;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s var(--ease-out-expo), transform 0.8s var(--ease-out-expo);
    }

    .narrative-content.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .narrative-content p {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
    }

    .narrative-content p:last-child {
      margin-bottom: 0;
    }

    .code-inline {
      font-family: var(--mono);
      font-size: 0.9em;
      background: rgba(107, 114, 128, 0.2);
      padding: 0.15em 0.4em;
      border-radius: 4px;
    }

    .light .code-inline {
      background: rgba(45, 90, 74, 0.1);
      color: var(--constructive-primary);
    }

    .quote-block {
      border-left: 3px solid var(--algorithm-accent);
      padding-left: 1.5rem;
      margin: 2rem 0;
      font-family: var(--display);
      font-style: italic;
      font-size: 1.3rem;
    }

    /* ============================================
       THE INFINITE CORRIDOR
       ============================================ */

    .corridor-section {
      min-height: 100vh;
      position: relative;
      background: linear-gradient(180deg, #0A0A0D 0%, #12121A 100%);
      overflow: hidden;
    }

    .corridor-container {
      position: relative;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .corridor-header {
      padding: 2rem;
      text-align: center;
      position: relative;
      z-index: 10;
    }

    .corridor-title {
      font-family: var(--display);
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }

    .corridor-instruction {
      font-size: 0.9rem;
      color: var(--fog-light);
    }

    /* 3D Corridor Visualization */
    .corridor-viewport {
      flex: 1;
      position: relative;
      perspective: 1000px;
      overflow: hidden;
    }

    .corridor-3d {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 400px;
      transform-style: preserve-3d;
    }

    .corridor-floor {
      position: absolute;
      bottom: 0;
      left: -50%;
      width: 200%;
      height: 300px;
      background: 
        repeating-linear-gradient(
          90deg,
          rgba(107, 114, 128, 0.1) 0px,
          rgba(107, 114, 128, 0.1) 2px,
          transparent 2px,
          transparent 80px
        ),
        repeating-linear-gradient(
          0deg,
          rgba(107, 114, 128, 0.05) 0px,
          rgba(107, 114, 128, 0.05) 2px,
          transparent 2px,
          transparent 80px
        );
      transform: rotateX(70deg);
      transform-origin: bottom;
    }

    .doors-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      align-items: center;
      gap: 20px;
      transition: transform 0.5s var(--ease-out-expo);
    }

    .door {
      width: 80px;
      height: 140px;
      background: linear-gradient(180deg, #2A2A35 0%, #1A1A22 100%);
      border: 2px solid #3A3A45;
      border-radius: 8px 8px 0 0;
      position: relative;
      cursor: pointer;
      transition: all 0.3s var(--ease-out-expo);
      flex-shrink: 0;
    }

    .door::before {
      content: '';
      position: absolute;
      top: 50%;
      right: 12px;
      width: 8px;
      height: 8px;
      background: #555;
      border-radius: 50%;
      transform: translateY(-50%);
    }

    .door:hover {
      border-color: var(--algorithm-accent);
      box-shadow: 0 0 20px rgba(224, 123, 57, 0.3);
    }

    .door.opened {
      background: linear-gradient(180deg, #1A1A22 0%, #0F0F15 100%);
    }

    .door-number {
      position: absolute;
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      font-family: var(--mono);
      font-size: 0.75rem;
      color: var(--fog-light);
    }

    .door-value {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: var(--mono);
      font-size: 2rem;
      font-weight: 600;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .door.opened .door-value {
      opacity: 1;
    }

    .door-value.zero {
      color: var(--constructive-glow);
    }

    .door-value.one {
      color: var(--algorithm-accent);
    }

    /* Fog effect at the edges */
    .corridor-fog {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 200px;
      pointer-events: none;
      z-index: 5;
    }

    .corridor-fog.left {
      left: 0;
      background: linear-gradient(90deg, #0A0A0D 0%, transparent 100%);
    }

    .corridor-fog.right {
      right: 0;
      background: linear-gradient(-90deg, #0A0A0D 0%, transparent 100%);
    }

    /* The Question */
    .corridor-question {
      position: absolute;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 10;
    }

    .question-text {
      font-family: var(--display);
      font-size: 1.4rem;
      font-style: italic;
      margin-bottom: 1rem;
    }

    .question-subtext {
      font-size: 0.9rem;
      color: var(--fog-light);
    }

    /* Navigation controls */
    .corridor-nav {
      position: absolute;
      bottom: 120px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 1rem;
      z-index: 10;
    }

    .nav-btn {
      width: 50px;
      height: 50px;
      border: 2px solid var(--fog-light);
      border-radius: 50%;
      background: transparent;
      color: var(--fog-light);
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nav-btn:hover {
      border-color: var(--algorithm-accent);
      color: var(--algorithm-accent);
    }

    .position-indicator {
      font-family: var(--mono);
      font-size: 0.8rem;
      color: var(--fog-light);
      display: flex;
      align-items: center;
      padding: 0 1rem;
    }

    /* ============================================
       THE ORACLE GAME
       ============================================ */

    .game-section {
      min-height: 100vh;
      padding: 4rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(180deg, #12121A 0%, #0F0F12 100%);
    }

    .game-container {
      max-width: 900px;
      width: 100%;
    }

    .game-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .game-title {
      font-family: var(--display);
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .game-subtitle {
      color: var(--fog-light);
      font-size: 1rem;
    }

    .game-board {
      background: rgba(30, 30, 40, 0.5);
      border: 1px solid rgba(107, 114, 128, 0.3);
      border-radius: 16px;
      padding: 2rem;
    }

    .game-status {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid rgba(107, 114, 128, 0.2);
    }

    .status-item {
      text-align: center;
    }

    .status-label {
      font-family: var(--mono);
      font-size: 0.65rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--fog-light);
      margin-bottom: 0.3rem;
    }

    .status-value {
      font-family: var(--mono);
      font-size: 1.5rem;
      font-weight: 500;
    }

    .status-value.queries {
      color: var(--algorithm-accent);
    }

    .status-value.revealed {
      color: var(--constructive-glow);
    }

    .game-sequence {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-bottom: 2rem;
    }

    .sequence-cell {
      width: 44px;
      height: 44px;
      border: 2px solid rgba(107, 114, 128, 0.3);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--mono);
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s;
      background: rgba(20, 20, 28, 0.5);
    }

    .sequence-cell:hover:not(.revealed) {
      border-color: var(--algorithm-accent);
      background: rgba(224, 123, 57, 0.1);
    }

    .sequence-cell.revealed {
      cursor: default;
    }

    .sequence-cell.revealed.zero {
      border-color: var(--constructive-glow);
      background: rgba(74, 157, 124, 0.15);
      color: var(--constructive-glow);
    }

    .sequence-cell.revealed.one {
      border-color: var(--algorithm-accent);
      background: rgba(224, 123, 57, 0.15);
      color: var(--algorithm-accent);
    }

    .sequence-cell .cell-index {
      font-size: 0.6rem;
      color: var(--fog-light);
      position: absolute;
      top: 2px;
    }

    .game-controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .game-btn {
      padding: 0.8rem 1.5rem;
      border: 2px solid;
      border-radius: 8px;
      font-family: var(--mono);
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
      background: transparent;
    }

    .game-btn.claim-zeros {
      border-color: var(--constructive-glow);
      color: var(--constructive-glow);
    }

    .game-btn.claim-zeros:hover {
      background: rgba(74, 157, 124, 0.15);
    }

    .game-btn.claim-one {
      border-color: var(--algorithm-accent);
      color: var(--algorithm-accent);
    }

    .game-btn.claim-one:hover {
      background: rgba(224, 123, 57, 0.15);
    }

    .game-btn.reset {
      border-color: var(--fog-light);
      color: var(--fog-light);
    }

    .game-btn.reset:hover {
      background: rgba(107, 114, 128, 0.15);
    }

    .game-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .game-message {
      text-align: center;
      min-height: 60px;
      padding: 1rem;
      border-radius: 8px;
      font-size: 0.95rem;
    }

    .game-message.info {
      background: rgba(107, 114, 128, 0.1);
      color: var(--fog-light);
    }

    .game-message.success {
      background: rgba(74, 157, 124, 0.15);
      color: var(--constructive-glow);
    }

    .game-message.failure {
      background: rgba(224, 123, 57, 0.15);
      color: var(--algorithm-accent);
    }

    .game-message.victory {
      background: rgba(74, 157, 124, 0.2);
      color: var(--constructive-glow);
    }

    /* ============================================
       FAMOUS PROBLEMS CONNECTION
       ============================================ */

    .problems-section {
      min-height: 100vh;
      padding: 4rem 2rem;
      background: var(--background);
      color: var(--ink);
    }

    .problems-container {
      max-width: 1000px;
      margin: 0 auto;
    }

    .problems-header {
      text-align: center;
      margin-bottom: 4rem;
    }

    .problems-title {
      font-family: var(--display);
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .problems-subtitle {
      font-size: 1.1rem;
      color: #666;
      max-width: 600px;
      margin: 0 auto;
    }

    .problem-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
    }

    .problem-card {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
      transition: transform 0.3s var(--ease-out-expo), box-shadow 0.3s;
    }

    .problem-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
    }

    .problem-name {
      font-family: var(--display);
      font-size: 1.3rem;
      margin-bottom: 1rem;
      color: var(--constructive-primary);
    }

    .problem-sequence {
      font-family: var(--mono);
      font-size: 0.8rem;
      background: #F5F3F0;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      overflow-x: auto;
    }

    .problem-sequence .var {
      color: var(--algorithm-accent);
    }

    .problem-explanation {
      font-size: 0.95rem;
      color: #555;
      line-height: 1.7;
    }

    .problem-status {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid #E8E4DC;
      font-family: var(--mono);
      font-size: 0.75rem;
    }

    .problem-status.solved {
      color: var(--proof-valid);
    }

    .problem-status.open {
      color: var(--algorithm-accent);
    }

    /* ============================================
       THE INSIGHT SECTION
       ============================================ */

    .insight-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4rem 2rem;
      background: linear-gradient(180deg, #1A1A20 0%, #0F0F12 100%);
    }

    .insight-content {
      max-width: 700px;
      text-align: center;
    }

    .insight-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--constructive-glow);
      margin-bottom: 1.5rem;
    }

    .insight-text {
      font-family: var(--display);
      font-size: clamp(1.4rem, 4vw, 2rem);
      font-style: italic;
      line-height: 1.6;
      margin-bottom: 2rem;
    }

    .insight-text em {
      color: var(--algorithm-accent);
      font-style: normal;
    }

    .insight-coda {
      font-size: 1rem;
      color: var(--fog-light);
      max-width: 500px;
      margin: 0 auto;
    }

    /* ============================================
       CONSTRUCTIVE ALTERNATIVE
       ============================================ */

    .alternative-section {
      min-height: 80vh;
      padding: 4rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(180deg, var(--constructive-primary) 0%, #1E3D31 100%);
    }

    .alternative-content {
      max-width: 700px;
      text-align: center;
    }

    .alternative-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--constructive-glow);
      margin-bottom: 1rem;
    }

    .alternative-title {
      font-family: var(--display);
      font-size: 2rem;
      margin-bottom: 1.5rem;
    }

    .alternative-text {
      font-size: 1.15rem;
      line-height: 1.8;
      margin-bottom: 2rem;
      color: rgba(255, 255, 255, 0.9);
    }

    .alternative-formula {
      background: rgba(0, 0, 0, 0.2);
      padding: 1.5rem 2rem;
      border-radius: 12px;
      font-family: var(--mono);
      font-size: 1.1rem;
      color: var(--constructive-glow);
    }

    /* ============================================
       NAVIGATION
       ============================================ */

    .next-section {
      padding: 4rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: var(--background-dark);
      text-align: center;
    }

    .next-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--fog-light);
      margin-bottom: 1rem;
    }

    .next-title {
      font-family: var(--display);
      font-size: 1.6rem;
      color: var(--algorithm-accent);
      margin-bottom: 0.5rem;
    }

    .next-description {
      font-size: 1rem;
      color: var(--fog-light);
      max-width: 500px;
    }

    /* ============================================
       RESPONSIVE
       ============================================ */

    @media (max-width: 768px) {
      .door {
        width: 60px;
        height: 100px;
      }

      .corridor-nav {
        bottom: 140px;
      }

      .game-sequence {
        gap: 6px;
      }

      .sequence-cell {
        width: 36px;
        height: 36px;
        font-size: 0.85rem;
      }

      .problem-cards {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <!-- Opening -->
  <section class="opening">
    <div class="perspective-grid"></div>
    <div class="opening-content">
      <p class="section-label">The Heart of Constructivism</p>
      <h1 class="main-title">The <span class="highlight">Limited Principle</span> of Omniscience</h1>
      <p class="subtitle">An infinite corridor of doors, each hiding a 0 or 1. The question: are they all zeros? To answer with certainty would require infinite knowledge.</p>
    </div>
  </section>

  <!-- Narrative: Setup -->
  <section class="narrative-section">
    <div class="narrative-content" data-animate>
      <p>Consider a sequence of integers <span class="code-inline">(n₁, n₂, n₃, ...)</span> where each term is either 0 or 1. Nothing exotic—just an infinite list of binary digits.</p>
      <p>Now ask a simple question: <em>Is every term equal to 0?</em></p>
      <p>In classical mathematics, the answer must be yes or no. Either all terms are zero, or at least one term equals 1. The law of excluded middle guarantees this—no third option exists.</p>
    </div>
  </section>

  <!-- Narrative: The Problem -->
  <section class="narrative-section">
    <div class="narrative-content" data-animate>
      <p>But here's the constructive challenge: <em>how would you actually determine the answer?</em></p>
      <p>You could check n₁. Then n₂. Then n₃. If you ever find a 1, you're done—you've answered the question. But if you keep finding zeros... when can you stop? After a million checks? A billion?</p>
      <div class="quote-block">
        "The corridor stretches to infinity. You can open any door you like. But you can never open them all."
      </div>
    </div>
  </section>

  <!-- The Infinite Corridor Visualization -->
  <section class="corridor-section">
    <div class="corridor-container">
      <div class="corridor-header">
        <h2 class="corridor-title">The Infinite Corridor</h2>
        <p class="corridor-instruction">Click doors to reveal their values. Use arrows to explore further.</p>
      </div>

      <div class="corridor-viewport">
        <div class="corridor-floor"></div>
        
        <div class="doors-container" id="doorsContainer">
          <!-- Doors will be generated by JavaScript -->
        </div>

        <div class="corridor-fog left"></div>
        <div class="corridor-fog right"></div>
      </div>

      <div class="corridor-nav">
        <button class="nav-btn" id="navLeft">←</button>
        <div class="position-indicator">
          Door <span id="positionStart">1</span> – <span id="positionEnd">9</span> of ∞
        </div>
        <button class="nav-btn" id="navRight">→</button>
      </div>

      <div class="corridor-question">
        <p class="question-text">"Are all these doors hiding zeros?"</p>
        <p class="question-subtext">You've opened <span id="doorsOpened">0</span> doors. All zeros so far. But infinity remains.</p>
      </div>
    </div>
  </section>

  <!-- Narrative: The Principle -->
  <section class="narrative-section light">
    <div class="narrative-content" data-animate>
      <p>This is the <strong>Limited Principle of Omniscience (LPO)</strong>:</p>
      <div class="quote-block" style="border-color: var(--constructive-primary);">
        For any sequence (nₖ) of 0s and 1s, either nₖ = 0 for all k, or there exists some k with nₖ = 1.
      </div>
      <p>Classical mathematics accepts this as obviously true. Constructive mathematics <em>rejects</em> it—not because it's false, but because we have no general algorithm to determine which alternative holds.</p>
    </div>
  </section>

  <!-- The Oracle Game -->
  <section class="game-section">
    <div class="game-container">
      <div class="game-header">
        <h2 class="game-title">The Adversary's Game</h2>
        <p class="game-subtitle">You have 10 queries. Try to determine if all values are 0, or find a 1.</p>
      </div>

      <div class="game-board">
        <div class="game-status">
          <div class="status-item">
            <p class="status-label">Queries Remaining</p>
            <p class="status-value queries" id="queriesLeft">10</p>
          </div>
          <div class="status-item">
            <p class="status-label">Cells Revealed</p>
            <p class="status-value revealed" id="cellsRevealed">0 / 20</p>
          </div>
          <div class="status-item">
            <p class="status-label">Values Found</p>
            <p class="status-value" id="valuesFound">—</p>
          </div>
        </div>

        <div class="game-sequence" id="gameSequence">
          <!-- Cells generated by JavaScript -->
        </div>

        <div class="game-controls">
          <button class="game-btn claim-zeros" id="claimZeros">Claim: All Zeros</button>
          <button class="game-btn claim-one" id="claimOne" disabled>Claim: Found a 1</button>
          <button class="game-btn reset" id="resetGame">Reset</button>
        </div>

        <div class="game-message info" id="gameMessage">
          Click cells to query their values. The adversary controls what you haven't seen yet.
        </div>
      </div>
    </div>
  </section>

  <!-- Narrative: The Connection -->
  <section class="narrative-section">
    <div class="narrative-content" data-animate>
      <p>You might think: surely there are sequences where we <em>can</em> answer the question? And you'd be right. If the sequence has a pattern, or if it's defined by a simple rule, we might be able to reason about all its terms.</p>
      <p>The problem is that accepting LPO as a general principle would let us solve problems we have no business solving. Here's Bishop's devastating observation:</p>
    </div>
  </section>

  <!-- Famous Problems Connection -->
  <section class="problems-section">
    <div class="problems-container">
      <div class="problems-header">
        <h2 class="problems-title">If LPO Were Valid...</h2>
        <p class="problems-subtitle">These famous problems would become trivially decidable. Define the right sequence, apply LPO, and read off the answer.</p>
      </div>

      <div class="problem-cards">
        <!-- Goldbach -->
        <div class="problem-card">
          <h3 class="problem-name">Goldbach's Conjecture</h3>
          <div class="problem-sequence">
            <span class="var">nₖ</span> = 1 if 2k is not the sum of two primes<br>
            <span class="var">nₖ</span> = 0 otherwise
          </div>
          <p class="problem-explanation">Every even number greater than 2 is the sum of two primes. Unproven since 1742. If we could decide "all zeros?", we'd resolve it instantly.</p>
          <p class="problem-status open">⏳ Still Open</p>
        </div>

        <!-- Riemann -->
        <div class="problem-card">
          <h3 class="problem-name">Riemann Hypothesis</h3>
          <div class="problem-sequence">
            <span class="var">nₖ</span> = 1 if the k-th zero of ζ(s) is off the critical line<br>
            <span class="var">nₖ</span> = 0 otherwise
          </div>
          <p class="problem-explanation">All non-trivial zeros of the zeta function lie on Re(s) = ½. The most important unsolved problem in mathematics. LPO would settle it.</p>
          <p class="problem-status open">⏳ Still Open</p>
        </div>

        <!-- Twin Primes -->
        <div class="problem-card">
          <h3 class="problem-name">Twin Prime Conjecture</h3>
          <div class="problem-sequence">
            <span class="var">nₖ</span> = 0 if there exist twin primes > k<br>
            <span class="var">nₖ</span> = 1 otherwise
          </div>
          <p class="problem-explanation">Are there infinitely many pairs of primes differing by 2? LPO on this sequence would give us the answer.</p>
          <p class="problem-status open">⏳ Still Open</p>
        </div>

        <!-- Fermat (Solved) -->
        <div class="problem-card">
          <h3 class="problem-name">Fermat's Last Theorem</h3>
          <div class="problem-sequence">
            <span class="var">nₖ</span> = 1 if k encodes a counterexample (a,b,c,n)<br>
            <span class="var">nₖ</span> = 0 otherwise
          </div>
          <p class="problem-explanation">No three positive integers satisfy aⁿ + bⁿ = cⁿ for n > 2. Proved by Wiles in 1995—but before that, LPO would have decided it.</p>
          <p class="problem-status solved">✓ Proved (1995)</p>
        </div>
      </div>
    </div>
  </section>

  <!-- The Insight -->
  <section class="insight-section">
    <div class="insight-content" data-animate>
      <p class="insight-label">The Constructive Insight</p>
      <p class="insight-text">
        Accepting LPO would give us a <em>universal problem-solver</em>—an oracle that answers any yes/no mathematical question. But such an oracle cannot be built from finite computations.
      </p>
      <p class="insight-coda">
        This is why constructive mathematics rejects LPO. Not because "all zeros or some one" is ever false, but because we cannot, in general, determine which.
      </p>
    </div>
  </section>

  <!-- Constructive Alternative -->
  <section class="alternative-section">
    <div class="alternative-content" data-animate>
      <p class="alternative-label">The Constructive Alternative</p>
      <h2 class="alternative-title">What We Can Actually Prove</h2>
      <p class="alternative-text">
        Constructive mathematics doesn't leave us empty-handed. We can still prove useful things—we just have to phrase them differently. Instead of claiming we can decide the question, we prove implications:
      </p>
      <div class="alternative-formula">
        If ¬(∀k. nₖ = 0), then ∃k. nₖ = 1
      </div>
      <p class="alternative-text" style="margin-top: 2rem; margin-bottom: 0;">
        This is the <em>double negation</em> form: if it's not the case that all terms are zero, then we can find a one. This is constructively valid—and often sufficient for practical mathematics.
      </p>
    </div>
  </section>

  <!-- Next Navigation -->
  <section class="next-section">
    <p class="next-label">Coming Next</p>
    <h3 class="next-title">The Failure of the Intermediate Value Theorem</h3>
    <p class="next-description">Bishop's elegant counterexample: a continuous function that "must" cross zero, yet we cannot construct where.</p>
  </section>

  <script>
    // ============================================
    // SCROLL ANIMATIONS
    // ============================================
    
    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -10% 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('[data-animate], .narrative-content').forEach(el => {
      observer.observe(el);
    });

    // ============================================
    // INFINITE CORRIDOR
    // ============================================
    
    const doorsContainer = document.getElementById('doorsContainer');
    const positionStart = document.getElementById('positionStart');
    const positionEnd = document.getElementById('positionEnd');
    const doorsOpenedDisplay = document.getElementById('doorsOpened');
    
    let corridorOffset = 0;
    let doorsOpened = 0;
    const visibleDoors = 9;
    const doorData = {}; // Store revealed door values
    
    function generateDoors() {
      doorsContainer.innerHTML = '';
      
      for (let i = 0; i < visibleDoors; i++) {
        const doorIndex = corridorOffset + i + 1;
        const door = document.createElement('div');
        door.className = 'door';
        door.dataset.index = doorIndex;
        
        // Check if this door was previously opened
        if (doorData[doorIndex] !== undefined) {
          door.classList.add('opened');
        }
        
        door.innerHTML = `
          <span class="door-number">n<sub>${doorIndex}</sub></span>
          <span class="door-value ${doorData[doorIndex] === 0 ? 'zero' : 'one'}">${doorData[doorIndex] !== undefined ? doorData[doorIndex] : '?'}</span>
        `;
        
        door.addEventListener('click', () => openDoor(door, doorIndex));
        doorsContainer.appendChild(door);
      }
      
      updatePositionDisplay();
    }
    
    function openDoor(doorEl, index) {
      if (doorEl.classList.contains('opened')) return;
      
      // The corridor always reveals 0 (the adversary's strategy)
      // This demonstrates that no matter how many you open, you can't conclude "all zeros"
      doorData[index] = 0;
      doorsOpened++;
      
      doorEl.classList.add('opened');
      const valueEl = doorEl.querySelector('.door-value');
      valueEl.textContent = '0';
      valueEl.classList.add('zero');
      
      doorsOpenedDisplay.textContent = doorsOpened;
    }
    
    function updatePositionDisplay() {
      positionStart.textContent = corridorOffset + 1;
      positionEnd.textContent = corridorOffset + visibleDoors;
    }
    
    document.getElementById('navLeft').addEventListener('click', () => {
      if (corridorOffset > 0) {
        corridorOffset = Math.max(0, corridorOffset - visibleDoors);
        generateDoors();
      }
    });
    
    document.getElementById('navRight').addEventListener('click', () => {
      corridorOffset += visibleDoors;
      generateDoors();
    });
    
    // Initialize corridor
    generateDoors();

    // ============================================
    // THE ADVERSARY'S GAME
    // ============================================
    
    const gameSequence = document.getElementById('gameSequence');
    const queriesLeftDisplay = document.getElementById('queriesLeft');
    const cellsRevealedDisplay = document.getElementById('cellsRevealed');
    const valuesFoundDisplay = document.getElementById('valuesFound');
    const gameMessage = document.getElementById('gameMessage');
    const claimZerosBtn = document.getElementById('claimZeros');
    const claimOneBtn = document.getElementById('claimOne');
    const resetGameBtn = document.getElementById('resetGame');
    
    const GAME_SIZE = 20;
    const MAX_QUERIES = 10;
    
    let gameState = {
      revealed: {},
      queriesUsed: 0,
      foundOne: false,
      gameOver: false
    };
    
    function initGame() {
      gameState = {
        revealed: {},
        queriesUsed: 0,
        foundOne: false,
        gameOver: false
      };
      
      gameSequence.innerHTML = '';
      
      for (let i = 1; i <= GAME_SIZE; i++) {
        const cell = document.createElement('div');
        cell.className = 'sequence-cell';
        cell.dataset.index = i;
        cell.textContent = '?';
        cell.addEventListener('click', () => queryCell(cell, i));
        gameSequence.appendChild(cell);
      }
      
      updateGameUI();
      gameMessage.className = 'game-message info';
      gameMessage.textContent = 'Click cells to query their values. The adversary controls what you haven\'t seen yet.';
    }
    
    function queryCell(cellEl, index) {
      if (gameState.gameOver) return;
      if (gameState.revealed[index] !== undefined) return;
      if (gameState.queriesUsed >= MAX_QUERIES) return;
      
      gameState.queriesUsed++;
      
      // Adversary strategy: always show 0 until player is about to win
      // If player has used 9 queries and all are 0, reveal a 1 on the 10th
      // This demonstrates the adversary can always keep uncertainty alive
      
      // Actually, a smarter adversary: always show 0
      // The point is even with all 0s, player can't claim "all zeros" 
      // because there are infinitely more cells they haven't checked
      
      let value = 0;
      
      // For dramatic effect: if this is the last query and all previous were 0,
      // still show 0 but the adversary "could have" placed a 1 anywhere else
      
      gameState.revealed[index] = value;
      
      cellEl.classList.add('revealed', value === 0 ? 'zero' : 'one');
      cellEl.textContent = value;
      
      if (value === 1) {
        gameState.foundOne = true;
        claimOneBtn.disabled = false;
      }
      
      updateGameUI();
      
      if (gameState.queriesUsed >= MAX_QUERIES && !gameState.foundOne) {
        gameMessage.className = 'game-message info';
        gameMessage.textContent = 'Out of queries! All revealed values are 0, but ' + (GAME_SIZE - MAX_QUERIES) + ' cells remain hidden. What do you claim?';
      }
    }
    
    function updateGameUI() {
      const revealed = Object.keys(gameState.revealed).length;
      queriesLeftDisplay.textContent = MAX_QUERIES - gameState.queriesUsed;
      cellsRevealedDisplay.textContent = `${revealed} / ${GAME_SIZE}`;
      
      const zeros = Object.values(gameState.revealed).filter(v => v === 0).length;
      const ones = Object.values(gameState.revealed).filter(v => v === 1).length;
      
      if (zeros > 0 || ones > 0) {
        valuesFoundDisplay.innerHTML = `<span style="color: var(--constructive-glow)">${zeros}×0</span>  <span style="color: var(--algorithm-accent)">${ones}×1</span>`;
      } else {
        valuesFoundDisplay.textContent = '—';
      }
      
      claimZerosBtn.disabled = gameState.gameOver;
      claimOneBtn.disabled = !gameState.foundOne || gameState.gameOver;
    }
    
    claimZerosBtn.addEventListener('click', () => {
      if (gameState.gameOver) return;
      gameState.gameOver = true;
      
      // The adversary reveals: actually there WAS a 1 hiding
      // Find first unrevealed cell and show it was 1 all along
      let hiddenOneIndex = null;
      for (let i = 1; i <= GAME_SIZE; i++) {
        if (gameState.revealed[i] === undefined) {
          hiddenOneIndex = i;
          break;
        }
      }
      
      if (hiddenOneIndex) {
        const cell = gameSequence.children[hiddenOneIndex - 1];
        cell.classList.add('revealed', 'one');
        cell.textContent = '1';
        
        gameMessage.className = 'game-message failure';
        gameMessage.innerHTML = `<strong>The adversary reveals:</strong> Cell ${hiddenOneIndex} was hiding a 1 all along! You cannot claim "all zeros" without checking every cell—and there could always be more.`;
      } else {
        // Player somehow checked all cells (shouldn't happen with 10 queries and 20 cells)
        gameMessage.className = 'game-message victory';
        gameMessage.textContent = 'Remarkable! You checked every cell. In finite sequences, this is possible. But the true LPO involves infinite sequences...';
      }
      
      updateGameUI();
    });
    
    claimOneBtn.addEventListener('click', () => {
      if (gameState.gameOver) return;
      if (!gameState.foundOne) return;
      
      gameState.gameOver = true;
      gameMessage.className = 'game-message success';
      gameMessage.innerHTML = '<strong>Correct!</strong> You found a 1 and can prove it exists. This is the constructive way: existence through witness.';
      
      updateGameUI();
    });
    
    resetGameBtn.addEventListener('click', initGame);
    
    // Initialize game
    initGame();
  </script>
</body>
</html>
