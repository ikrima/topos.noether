<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Spiral of Mathematical Understanding</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Crimson Pro', Georgia, serif;
      background: linear-gradient(180deg, 
        #FFF5E1 0%, 
        #E8EFF7 25%, 
        #E8F5E8 50%, 
        #F5E8F5 75%,
        #ffffff 100%);
      min-height: 100vh;
      color: #1a1a2e;
      overflow-x: hidden;
    }

    /* Progress bar */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: rgba(0,0,0,0.1);
      z-index: 1000;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #E8A838, #4A6FA5, #6B8E6B, #8B5A8B);
      transition: width 0.1s ease-out;
    }

    /* Stage indicator */
    .stage-indicator {
      position: fixed;
      right: 24px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 16px;
      z-index: 1000;
    }

    .stage-dot {
      width: 12px;
      height: 12px;
      border-radius: 6px;
      background: rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
    }

    .stage-dot.active {
      width: 48px;
    }

    .stage-dot[data-stage="0"].active { background: #E8A838; }
    .stage-dot[data-stage="1"].active { background: #4A6FA5; }
    .stage-dot[data-stage="2"].active { background: #6B8E6B; }
    .stage-dot[data-stage="3"].active { background: #8B5A8B; }

    .stage-label {
      position: absolute;
      right: 56px;
      top: 50%;
      transform: translateY(-50%);
      white-space: nowrap;
      font-size: 12px;
      font-family: 'DM Sans', sans-serif;
      font-weight: 500;
      letter-spacing: 0.5px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .stage-dot.active .stage-label {
      opacity: 1;
    }

    .stage-dot[data-stage="0"] .stage-label { color: #E8A838; }
    .stage-dot[data-stage="1"] .stage-label { color: #4A6FA5; }
    .stage-dot[data-stage="2"] .stage-label { color: #6B8E6B; }
    .stage-dot[data-stage="3"] .stage-label { color: #8B5A8B; }

    /* Sections */
    section {
      min-height: 100vh;
      padding: 80px 48px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Hero section */
    .hero {
      text-align: center;
      position: relative;
      flex-direction: column;
    }

    .hero-circle {
      position: absolute;
      border-radius: 50%;
      border: 2px solid rgba(232, 168, 56, 0.15);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: pulse 8s ease-in-out infinite;
    }

    .hero-circle.large { width: 600px; height: 600px; }
    .hero-circle.medium { width: 400px; height: 400px; animation-delay: 2s; }

    @keyframes pulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
      50% { transform: translate(-50%, -50%) scale(1.05); opacity: 0.3; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    h1 {
      font-size: clamp(2.5rem, 8vw, 5rem);
      font-weight: 300;
      color: #1a1a2e;
      margin-bottom: 24px;
      letter-spacing: -2px;
      line-height: 1.1;
      z-index: 1;
    }

    h1 .gradient-text {
      font-style: italic;
      background: linear-gradient(135deg, #E8A838, #6B8E6B);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      font-size: 1.25rem;
      color: #4a4a6a;
      max-width: 640px;
      line-height: 1.8;
      font-family: 'DM Sans', sans-serif;
      font-weight: 300;
      z-index: 1;
      margin: 0 auto;
    }

    /* Source cards */
    .source-cards {
      display: flex;
      gap: 32px;
      margin-top: 48px;
      z-index: 1;
      flex-wrap: wrap;
      justify-content: center;
    }

    .source-card {
      background: white;
      padding: 20px 24px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border-left: 3px solid;
      text-align: left;
      max-width: 280px;
    }

    .source-card.tao { border-color: #4A6FA5; }
    .source-card.orlin { border-color: #E8A838; }

    .source-card .author {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 8px;
      font-family: 'DM Sans', sans-serif;
      font-weight: 500;
    }

    .source-card.tao .author { color: #4A6FA5; }
    .source-card.orlin .author { color: #E8A838; }

    .source-card .title {
      font-size: 0.95rem;
      color: #4a4a6a;
      font-style: italic;
      line-height: 1.5;
    }

    /* Scroll indicator */
    .scroll-indicator {
      margin-top: 64px;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: float 3s ease-in-out infinite;
      z-index: 1;
    }

    .scroll-indicator span {
      font-size: 14px;
      color: #8a8aaa;
      font-family: 'DM Sans', sans-serif;
      margin-bottom: 8px;
    }

    /* Content sections */
    .content-wrapper {
      max-width: 1200px;
      width: 100%;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 64px;
      align-items: center;
    }

    @media (max-width: 900px) {
      .content-wrapper {
        grid-template-columns: 1fr;
        gap: 40px;
      }
      section {
        padding: 60px 24px;
      }
    }

    /* Stage labels */
    .stage-number {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .stage-number .circle {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: 500;
    }

    .stage-number .text {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-family: 'DM Sans', sans-serif;
    }

    h2 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 300;
      color: #1a1a2e;
      margin-bottom: 24px;
      letter-spacing: -1px;
    }

    h2 .highlight {
      font-style: italic;
    }

    blockquote {
      border-left: 4px solid;
      padding-left: 24px;
      margin: 32px 0;
      font-style: italic;
      color: #4a4a6a;
      font-size: 1.1rem;
      line-height: 1.8;
    }

    blockquote cite {
      display: block;
      margin-top: 12px;
      font-style: normal;
      font-weight: 500;
      font-size: 0.9rem;
    }

    .body-text {
      font-size: 1.1rem;
      color: #4a4a6a;
      line-height: 1.8;
      font-family: 'DM Sans', sans-serif;
    }

    /* Demo cards */
    .demo-card {
      background: white;
      border-radius: 24px;
      padding: 48px;
      box-shadow: 0 24px 80px rgba(0,0,0,0.08);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .demo-card h3 {
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 24px;
      font-family: 'DM Sans', sans-serif;
    }

    .demo-card p {
      font-size: 1rem;
      color: #4a4a6a;
      margin-bottom: 24px;
      font-family: 'DM Sans', sans-serif;
    }

    /* Interactive controls */
    input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      cursor: pointer;
      -webkit-appearance: none;
      appearance: none;
      background: #e0e0e0;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #4A6FA5;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .control-label {
      display: block;
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 8px;
      font-family: 'DM Sans', sans-serif;
    }

    .helper-text {
      font-size: 0.9rem;
      color: #888;
      margin-top: 16px;
      font-style: italic;
      font-family: 'DM Sans', sans-serif;
    }

    /* Proof vs Explanation section */
    .dual-section {
      background: linear-gradient(180deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.8) 100%);
    }

    .dual-wrapper {
      max-width: 1000px;
      width: 100%;
    }

    .dual-header {
      text-align: center;
      margin-bottom: 64px;
    }

    .dual-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
    }

    @media (max-width: 768px) {
      .dual-grid {
        grid-template-columns: 1fr;
      }
    }

    .dual-card {
      background: white;
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 16px 64px rgba(0,0,0,0.08);
      border: 2px solid rgba(0,0,0,0.05);
    }

    .dual-card.proof { border-color: rgba(74, 111, 165, 0.2); }
    .dual-card.explanation { border-color: rgba(232, 168, 56, 0.2); }

    .dual-card-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    .dual-card-icon {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .dual-card.proof .dual-card-icon { background: #4A6FA5; }
    .dual-card.explanation .dual-card-icon { background: #E8A838; }

    .dual-card h3 {
      font-size: 1.5rem;
      font-weight: 400;
    }

    .dual-card.proof h3 { color: #4A6FA5; }
    .dual-card.explanation h3 { color: #E8A838; }

    .dual-card p {
      font-size: 1.05rem;
      color: #4a4a6a;
      line-height: 1.8;
      font-family: 'DM Sans', sans-serif;
    }

    .meta-box {
      margin-top: 24px;
      padding: 20px;
      border-radius: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      color: #1a1a2e;
      line-height: 1.8;
    }

    .dual-card.proof .meta-box { background: #E8EFF7; }
    .dual-card.explanation .meta-box { background: #FFF5E1; }

    .quote-box {
      margin-top: 48px;
      text-align: center;
      padding: 32px;
      background: linear-gradient(135deg, rgba(232, 168, 56, 0.1), rgba(74, 111, 165, 0.1));
      border-radius: 16px;
    }

    .quote-box p {
      font-size: 1.15rem;
      color: #4a4a6a;
      font-style: italic;
      line-height: 1.8;
      max-width: 700px;
      margin: 0 auto;
      font-family: 'DM Sans', sans-serif;
    }

    /* Sum of squares section */
    .sos-wrapper {
      max-width: 1100px;
      width: 100%;
    }

    .sos-header {
      text-align: center;
      margin-bottom: 48px;
    }

    .mode-switcher {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 48px;
    }

    .mode-btn {
      padding: 12px 32px;
      border-radius: 100px;
      border: none;
      background: white;
      color: #4a4a6a;
      font-size: 0.95rem;
      font-family: 'DM Sans', sans-serif;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .mode-btn.active.explanation {
      background: #E8A838;
      color: white;
      box-shadow: 0 8px 24px rgba(232, 168, 56, 0.4);
    }

    .mode-btn.active.proof {
      background: #4A6FA5;
      color: white;
      box-shadow: 0 8px 24px rgba(74, 111, 165, 0.4);
    }

    /* Explanation demo */
    .explanation-demo {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 48px;
    }

    @media (max-width: 900px) {
      .explanation-demo {
        grid-template-columns: 1fr;
      }
    }

    .visual-section h4,
    .reasoning-section h4 {
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: #E8A838;
      margin-bottom: 24px;
      font-family: 'DM Sans', sans-serif;
    }

    .step {
      margin-bottom: 12px;
    }

    .step-note {
      font-size: 0.85rem;
      color: #888;
      margin-left: 16px;
      margin-bottom: 8px;
    }

    .accuracy-box {
      margin-top: 32px;
      padding: 20px;
      background: #FFF5E1;
      border-radius: 12px;
    }

    .accuracy-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
    }

    .accuracy-bar {
      height: 8px;
      background: #ddd;
      border-radius: 4px;
      overflow: hidden;
    }

    .accuracy-fill {
      height: 100%;
      background: #E8A838;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .accuracy-text {
      font-size: 0.85rem;
      color: #888;
      margin-top: 8px;
      text-align: center;
    }

    /* Proof demo */
    .proof-section h4 {
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: #4A6FA5;
      margin-bottom: 32px;
      font-family: 'DM Sans', sans-serif;
    }

    .step-nav {
      display: flex;
      gap: 8px;
      margin-bottom: 32px;
    }

    .step-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: #f0f0f0;
      color: #666;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .step-btn.active {
      background: #4A6FA5;
      color: white;
    }

    .proof-step {
      background: #E8EFF7;
      border-radius: 16px;
      padding: 32px;
      min-height: 200px;
    }

    .proof-step h5 {
      font-size: 1.2rem;
      color: #4A6FA5;
      margin-bottom: 16px;
      font-weight: 500;
    }

    .proof-step pre {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.95rem;
      color: #1a1a2e;
      white-space: pre-wrap;
      line-height: 1.8;
      margin: 0;
    }

    .proof-step .explanation {
      font-size: 0.9rem;
      color: #666;
      margin-top: 16px;
      font-style: italic;
      font-family: 'DM Sans', sans-serif;
    }

    .reflection-box {
      margin-top: 32px;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 12px;
      text-align: center;
    }

    .reflection-box p {
      font-size: 1rem;
      color: #666;
      font-style: italic;
      font-family: 'DM Sans', sans-serif;
    }

    .reflection-box span {
      display: block;
      margin-top: 8px;
      font-weight: 500;
      font-style: normal;
    }

    /* Synthesis section */
    .synthesis-section {
      background: linear-gradient(180deg, #F5E8F5, white);
    }

    .synthesis-wrapper {
      max-width: 900px;
      width: 100%;
      text-align: center;
    }

    .synthesis-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      margin-bottom: 48px;
    }

    @media (max-width: 768px) {
      .synthesis-grid {
        grid-template-columns: 1fr;
      }
    }

    .synthesis-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.06);
      text-align: center;
      border-top: 4px solid;
    }

    .synthesis-card.pre { border-color: #E8A838; }
    .synthesis-card.rig { border-color: #4A6FA5; }
    .synthesis-card.post { border-color: #6B8E6B; }

    .synthesis-card .icon {
      font-size: 2rem;
      margin-bottom: 12px;
    }

    .synthesis-card h4 {
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 8px;
    }

    .synthesis-card.pre h4 { color: #E8A838; }
    .synthesis-card.rig h4 { color: #4A6FA5; }
    .synthesis-card.post h4 { color: #6B8E6B; }

    .synthesis-card p {
      font-size: 0.9rem;
      color: #666;
      line-height: 1.6;
      font-family: 'DM Sans', sans-serif;
    }

    .final-box {
      background: white;
      border-radius: 24px;
      padding: 48px;
      box-shadow: 0 24px 80px rgba(0,0,0,0.06);
      text-align: left;
    }

    .final-box p {
      font-size: 1.2rem;
      color: #4a4a6a;
      line-height: 2;
      font-family: 'DM Sans', sans-serif;
      margin-bottom: 24px;
    }

    .final-box p:last-child {
      margin-bottom: 0;
    }

    .final-quote {
      margin-top: 64px;
      padding: 32px;
      background: linear-gradient(135deg, rgba(232, 168, 56, 0.1), rgba(107, 142, 107, 0.1));
      border-radius: 16px;
    }

    .final-quote p {
      font-size: 1.1rem;
      color: #4a4a6a;
      font-style: italic;
      line-height: 1.8;
      font-family: 'Crimson Pro', serif;
    }

    .final-quote .author {
      font-size: 0.95rem;
      color: #8a8aaa;
      margin-top: 12px;
      font-family: 'DM Sans', sans-serif;
      font-style: normal;
    }

    /* View mode buttons */
    .view-buttons {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
    }

    .view-btn {
      padding: 8px 16px;
      border-radius: 100px;
      border: none;
      background: #f0f0f0;
      color: #666;
      font-size: 0.8rem;
      font-family: 'DM Sans', sans-serif;
      cursor: pointer;
      text-transform: capitalize;
      transition: all 0.2s ease;
    }

    .view-btn.active {
      background: #6B8E6B;
      color: white;
    }

    /* Formalism box */
    .formalism-box {
      background: #f5f7fa;
      padding: 16px;
      border-radius: 8px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      color: #1a1a2e;
      margin-bottom: 24px;
      line-height: 1.8;
    }

    .epsilon-controls {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    .epsilon-label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 4px;
      font-family: 'JetBrains Mono', monospace;
    }

    .epsilon-label.blue { color: #4A6FA5; }
    .epsilon-label.amber { color: #E8A838; }

    /* Post-rigorous explanation */
    .unified-text {
      font-size: 0.9rem;
      color: #666;
      margin-top: 16px;
      text-align: center;
      font-family: 'DM Sans', sans-serif;
    }

    /* Hidden elements for mode switching */
    .hidden {
      display: none !important;
    }

    /* Footer */
    footer {
      padding: 48px;
      text-align: center;
      background: white;
    }

    footer p {
      font-size: 0.9rem;
      color: #888;
      font-family: 'DM Sans', sans-serif;
    }

    footer a {
      color: #4A6FA5;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <!-- Progress Bar -->
  <div class="progress-bar">
    <div class="progress-fill" id="progressFill"></div>
  </div>

  <!-- Stage Indicator -->
  <div class="stage-indicator">
    <div class="stage-dot" data-stage="0">
      <span class="stage-label">Pre-rigorous</span>
    </div>
    <div class="stage-dot" data-stage="1">
      <span class="stage-label">Rigorous</span>
    </div>
    <div class="stage-dot" data-stage="2">
      <span class="stage-label">Post-rigorous</span>
    </div>
    <div class="stage-dot" data-stage="3">
      <span class="stage-label">Synthesis</span>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero" id="hero">
    <div class="hero-circle large"></div>
    <div class="hero-circle medium"></div>
    
    <h1>
      The Spiral of<br>
      <span class="gradient-text">Mathematical Understanding</span>
    </h1>
    
    <p class="subtitle">
      A visual synthesis of Terence Tao's three stages of mathematical development 
      and Ben Orlin's distinction between proof and explanation.
    </p>

    <div class="source-cards">
      <div class="source-card tao">
        <p class="author">Terence Tao</p>
        <p class="title">"There's more to mathematics than rigour and proofs"</p>
      </div>
      <div class="source-card orlin">
        <p class="author">Ben Orlin</p>
        <p class="title">"Against Mathematical Proof"</p>
      </div>
    </div>

    <div class="scroll-indicator">
      <span>Scroll to explore</span>
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#8a8aaa" stroke-width="2">
        <path d="M12 5v14M5 12l7 7 7-7" />
      </svg>
    </div>
  </section>

  <!-- Pre-Rigorous Section -->
  <section id="prerigorous">
    <div class="content-wrapper">
      <div>
        <div class="stage-number">
          <span class="circle" style="background: #E8A838;">I</span>
          <span class="text" style="color: #E8A838;">Stage</span>
        </div>
        <h2>The <span class="highlight" style="color: #E8A838;">Pre-Rigorous</span> Stage</h2>
        <blockquote style="border-color: #E8A838;">
          "Mathematics is taught in an informal, intuitive manner, based on examples, 
          fuzzy notions, and hand-waving. The emphasis is more on computation than on theory."
          <cite>‚Äî Terence Tao</cite>
        </blockquote>
        <p class="body-text">
          This is where mathematics feels like play. Calculus means slopes and areas, 
          not epsilon-delta. Numbers have personality. Shapes tell stories. 
          Understanding emerges from <em>doing</em>, not from axioms.
        </p>
      </div>
      
      <div class="demo-card" style="border-color: rgba(232, 168, 56, 0.2);">
        <h3 style="color: #E8A838;">Pre-Rigorous Understanding</h3>
        <p><strong>The derivative is the slope.</strong><br>Drag to see how steepness changes.</p>
        
        <svg id="preRigSvg" viewBox="0 0 300 200" style="width: 100%; height: 200px;">
          <defs>
            <pattern id="grid" width="30" height="30" patternUnits="userSpaceOnUse">
              <path d="M 30 0 L 0 0 0 30" fill="none" stroke="#e0e0e0" stroke-width="0.5"/>
            </pattern>
          </defs>
          <rect width="300" height="200" fill="url(#grid)"/>
          <line x1="30" y1="170" x2="280" y2="170" stroke="#888" stroke-width="1.5"/>
          <line x1="30" y1="170" x2="30" y2="20" stroke="#888" stroke-width="1.5"/>
          <line id="slopeLine" x1="30" y1="160" x2="270" y2="20" stroke="#E8A838" stroke-width="3" stroke-linecap="round"/>
          <path id="slopeTriangle" d="M 100 120 L 100 70 L 150 70" fill="none" stroke="#4A6FA5" stroke-width="2" stroke-dasharray="5,3"/>
          <text id="riseLabel" x="155" y="65" fill="#4A6FA5" font-size="14" font-family="DM Sans">rise = 50</text>
          <text id="runLabel" x="105" y="90" fill="#4A6FA5" font-size="14" font-family="DM Sans">run = 50</text>
        </svg>
        
        <div style="margin-top: 24px;">
          <label class="control-label">
            Slope (m): <strong id="slopeValue">2.0</strong>
          </label>
          <input type="range" id="slopeSlider" min="0.5" max="3" step="0.1" value="2">
        </div>
        
        <p class="helper-text">‚Üë Steeper line = bigger slope = faster change</p>
      </div>
    </div>
  </section>

  <!-- Rigorous Section -->
  <section id="rigorous">
    <div class="content-wrapper">
      <div class="demo-card" style="border-color: rgba(74, 111, 165, 0.2);">
        <h3 style="color: #4A6FA5;">Rigorous Formalism</h3>
        <p><strong>The Œµ-Œ¥ definition of limit.</strong><br>For all Œµ &gt; 0, there exists Œ¥ &gt; 0...</p>
        
        <div class="formalism-box">
          lim<sub>x‚Üía</sub> f(x) = L ‚ü∫<br>
          ‚àÄŒµ &gt; 0, ‚àÉŒ¥ &gt; 0 : |x - a| &lt; Œ¥ ‚üπ |f(x) - L| &lt; Œµ
        </div>
        
        <svg id="rigSvg" viewBox="0 0 300 180" style="width: 100%; height: 180px;">
          <rect id="epsilonBand" x="30" y="60" width="240" height="60" fill="#4A6FA5" opacity="0.15"/>
          <rect id="deltaBand" x="120" y="20" width="60" height="140" fill="#E8A838" opacity="0.15"/>
          <path d="M 30 130 Q 90 100, 150 90 Q 210 80, 270 50" fill="none" stroke="#1a1a2e" stroke-width="2"/>
          <circle cx="150" cy="90" r="4" fill="#4A6FA5"/>
          <text id="epsilonLabel" x="275" y="90" fill="#4A6FA5" font-size="12" font-family="JetBrains Mono">Œµ</text>
          <text x="150" y="175" fill="#E8A838" font-size="12" font-family="JetBrains Mono" text-anchor="middle">Œ¥</text>
        </svg>
        
        <div class="epsilon-controls">
          <div>
            <label class="epsilon-label blue">Œµ = <span id="epsilonValue">0.50</span></label>
            <input type="range" id="epsilonSlider" min="0.1" max="1" step="0.05" value="0.5">
          </div>
          <div>
            <label class="epsilon-label amber">Œ¥ = <span id="deltaValue">0.25</span></label>
            <input type="range" id="deltaSlider" min="0.1" max="0.8" step="0.05" value="0.25">
          </div>
        </div>
      </div>
      
      <div>
        <div class="stage-number">
          <span class="circle" style="background: #4A6FA5;">II</span>
          <span class="text" style="color: #4A6FA5;">Stage</span>
        </div>
        <h2>The <span class="highlight" style="color: #4A6FA5;">Rigorous</span> Stage</h2>
        <blockquote style="border-color: #4A6FA5;">
          "One is expected to be able to comfortably manipulate abstract mathematical 
          objects without focusing too much on what such objects actually 'mean'."
          <cite>‚Äî Terence Tao</cite>
        </blockquote>
        <p class="body-text">
          The transition is "rather traumatic." Intuition gets deprecated as "non-rigorous." 
          Mathematics becomes symbol manipulation‚Äîpowerful but often disconnected from meaning. 
          Many get stuck here, unable to return to intuition.
        </p>
      </div>
    </div>
  </section>

  <!-- Post-Rigorous Section -->
  <section id="postrigorous">
    <div class="content-wrapper">
      <div>
        <div class="stage-number">
          <span class="circle" style="background: #6B8E6B;">III</span>
          <span class="text" style="color: #6B8E6B;">Stage</span>
        </div>
        <h2>The <span class="highlight" style="color: #6B8E6B;">Post-Rigorous</span> Stage</h2>
        <blockquote style="border-color: #6B8E6B;">
          "The ideal state to reach is when every heuristic argument naturally suggests 
          its rigorous counterpart, and vice versa."
          <cite>‚Äî Terence Tao</cite>
        </blockquote>
        <p class="body-text">
          Here, intuition returns‚Äî<em>transfigured</em>. You see through formalism to meaning. 
          You can think heuristically and know exactly how to make it rigorous. 
          Both hemispheres working together. This is mathematical fluency.
        </p>
      </div>
      
      <div class="demo-card" style="border-color: rgba(107, 142, 107, 0.2);">
        <h3 style="color: #6B8E6B;">Unified Understanding</h3>
        <p><strong>Unified vision:</strong> The derivative as both slope <em>and</em> limit.</p>
        
        <div class="view-buttons">
          <button class="view-btn" data-view="intuition">Intuition</button>
          <button class="view-btn" data-view="rigor">Rigor</button>
          <button class="view-btn active" data-view="both">Both</button>
        </div>
        
        <svg id="postRigSvg" viewBox="0 0 300 180" style="width: 100%; height: 180px;">
          <path d="M 30 140 Q 100 120, 150 80 Q 200 40, 270 30" fill="none" stroke="#1a1a2e" stroke-width="2"/>
          <line id="tangentLine" x1="80" y1="140" x2="220" y2="40" stroke="#E8A838" stroke-width="2" stroke-dasharray="5,3"/>
          <g id="secantLines">
            <line x1="120" y1="120" x2="180" y2="60" stroke="#4A6FA5" stroke-width="1.5" opacity="0.3"/>
            <line x1="130" y1="110" x2="170" y2="70" stroke="#4A6FA5" stroke-width="1.5" opacity="0.5"/>
            <line x1="140" y1="100" x2="160" y2="80" stroke="#4A6FA5" stroke-width="1.5" opacity="0.7"/>
            <circle cx="150" cy="80" r="4" fill="#4A6FA5"/>
          </g>
          <g id="unifiedLegend">
            <rect x="180" y="130" width="12" height="3" fill="#E8A838"/>
            <text x="196" y="134" font-size="10" fill="#666" font-family="DM Sans">Intuition</text>
            <rect x="180" y="145" width="12" height="3" fill="#4A6FA5"/>
            <text x="196" y="149" font-size="10" fill="#666" font-family="DM Sans">Rigor</text>
          </g>
        </svg>
        
        <p class="unified-text" id="unifiedText">Same truth, two languages‚Äîperfectly aligned.</p>
      </div>
    </div>
  </section>

  <!-- Proof vs Explanation Section -->
  <section class="dual-section" id="proofvsexplanation">
    <div class="dual-wrapper">
      <div class="dual-header">
        <h2>Proof ‚â† Explanation</h2>
        <p class="subtitle" style="max-width: 640px; margin: 0 auto;">
          Ben Orlin identifies a crucial distinction that illuminates the three-stage journey.
        </p>
      </div>

      <div class="dual-grid">
        <div class="dual-card proof">
          <div class="dual-card-header">
            <div class="dual-card-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                <path d="M9 12l2 2 4-4" />
                <circle cx="12" cy="12" r="10" />
              </svg>
            </div>
            <h3>Proof</h3>
          </div>
          <p>
            Shows how a statement fits into <strong>the body of shared mathematical knowledge</strong>‚Äî
            axioms, definitions, earlier proofs. It's the castle walls of mathematics.
          </p>
          <div class="meta-box">
            <strong>Target:</strong> The discipline<br>
            <strong>Structure:</strong> Logical<br>
            <strong>Currency:</strong> Certainty
          </div>
        </div>

        <div class="dual-card explanation">
          <div class="dual-card-header">
            <div class="dual-card-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                <circle cx="12" cy="12" r="3" />
                <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
              </svg>
            </div>
            <h3>Explanation</h3>
          </div>
          <p>
            Shows how a statement fits into <strong>my personal knowledge</strong>‚Äî
            experiences, mental models, approximations, vivid images. It's psychological, not logical.
          </p>
          <div class="meta-box">
            <strong>Target:</strong> The individual<br>
            <strong>Structure:</strong> Psychological<br>
            <strong>Currency:</strong> Understanding
          </div>
        </div>
      </div>

      <div class="quote-box">
        <p>
          "Explanation is not just a fuzzy proof, and proof is not just a rigorous explanation. 
          They are different species entirely: one logical, the other psychological."
        </p>
      </div>
    </div>
  </section>

  <!-- Sum of Squares Section -->
  <section id="sumofsquares">
    <div class="sos-wrapper">
      <div class="sos-header">
        <h2>The Sum of Squares: A Case Study</h2>
        <p class="subtitle">1¬≤ + 2¬≤ + 3¬≤ + ... + n¬≤ = ?</p>
      </div>

      <div class="mode-switcher">
        <button class="mode-btn explanation active" data-mode="explanation">üí° Explanation</button>
        <button class="mode-btn proof" data-mode="proof">üìê Proof</button>
      </div>

      <!-- Explanation Mode -->
      <div class="demo-card" id="explanationDemo">
        <div class="explanation-demo">
          <div class="visual-section">
            <h4>Visual Intuition</h4>
            <svg id="pyramidSvg" viewBox="0 0 280 280" style="width: 100%; max-height: 280px;"></svg>
            <div style="margin-top: 24px;">
              <label class="control-label">
                Number of terms (n): <strong id="pyramidNValue">5</strong>
              </label>
              <input type="range" id="pyramidSlider" min="3" max="12" value="5">
            </div>
          </div>
          
          <div class="reasoning-section">
            <h4>The Heuristic</h4>
            <div class="body-text">
              <p class="step"><strong>Step 1:</strong> We sum <strong>n</strong> numbers.</p>
              <p class="step"><strong>Step 2:</strong> The average number is roughly <strong>n¬≤/3</strong></p>
              <p class="step-note">(Most squares are less than n¬≤/2, pulling the average down)</p>
              <p class="step"><strong>Step 3:</strong> So the sum ‚âà n √ó (n¬≤/3) = <strong>n¬≥/3</strong></p>
            </div>
            
            <div class="accuracy-box">
              <div class="accuracy-header">
                <span>Exact: <span id="exactSum">55</span></span>
                <span>n¬≥/3: <span id="approxSum">41.7</span></span>
              </div>
              <div class="accuracy-bar">
                <div class="accuracy-fill" id="accuracyFill" style="width: 75.8%;"></div>
              </div>
              <p class="accuracy-text">Approximation accuracy: <span id="accuracyPercent">75.8</span>%</p>
            </div>
          </div>
        </div>
        
        <div class="reflection-box">
          <p>
            "Have we proved the formula? Not at all. We've given a squishy argument for something 
            vaguely similar to the formula. But that has its own benefits."
            <span>‚Äî Ben Orlin</span>
          </p>
        </div>
      </div>

      <!-- Proof Mode -->
      <div class="demo-card hidden" id="proofDemo">
        <h4 class="proof-section">Proof by Mathematical Induction</h4>

        <div class="step-nav">
          <button class="step-btn active" data-step="0">1</button>
          <button class="step-btn" data-step="1">2</button>
          <button class="step-btn" data-step="2">3</button>
          <button class="step-btn" data-step="3">4</button>
        </div>

        <div class="proof-step" id="proofStepContent">
          <h5 id="proofStepTitle">Base Case</h5>
          <pre id="proofStepFormula">P(1): 1¬≤ = 1(1+1)(2¬∑1+1)/6 = 1¬∑2¬∑3/6 = 1 ‚úì</pre>
          <p class="explanation" id="proofStepExplanation">Verify the formula works for n = 1</p>
        </div>

        <div class="reflection-box">
          <p>
            The proof is logically airtight. But does anyone really feel like 
            this <em>explains</em> why the formula is true?
            <span>‚Äî The implicit question</span>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Synthesis Section -->
  <section class="synthesis-section" id="synthesis">
    <div class="synthesis-wrapper">
      <div class="stage-number" style="justify-content: center; display: flex;">
        <span class="circle" style="background: #8B5A8B;">‚àû</span>
        <span class="text" style="color: #8B5A8B;">Stage</span>
      </div>
      <h2>The <span class="highlight" style="color: #8B5A8B;">Synthesis</span></h2>
      
      <div class="synthesis-grid">
        <div class="synthesis-card pre">
          <div class="icon">üåÖ</div>
          <h4>Pre-rigorous</h4>
          <p>Intuition leads, proof absent</p>
        </div>
        <div class="synthesis-card rig">
          <div class="icon">üèóÔ∏è</div>
          <h4>Rigorous</h4>
          <p>Proof dominates, intuition suppressed</p>
        </div>
        <div class="synthesis-card post">
          <div class="icon">üåÑ</div>
          <h4>Post-rigorous</h4>
          <p>Proof and intuition unified</p>
        </div>
      </div>

      <div class="final-box">
        <p>
          The deep insight emerging from both Tao and Orlin is this: <strong>mathematical maturity 
          is not the triumph of rigor over intuition, but their reunion.</strong>
        </p>
        <p>
          The purpose of rigor is not to destroy intuition‚Äîit is to <em>destroy bad intuition 
          while clarifying and elevating good intuition</em>. When you reach the post-rigorous stage, 
          you don't abandon proof; you <strong>see through it</strong> to the meaning beneath.
        </p>
        <p>
          The ideal state: every heuristic naturally suggests its rigorous counterpart. 
          Every proof illuminates rather than obscures. Both hemispheres working together‚Äî
          the same way you already tackle problems in "real life."
        </p>
      </div>

      <div class="final-quote">
        <p>
          "Proof is the architecture of mathematics. It's our castle walls... 
          Don't abandon proof. Just acknowledge its true purpose."
        </p>
        <p class="author">‚Äî Ben Orlin</p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>
      An interactive synthesis of 
      <a href="https://terrytao.wordpress.com/career-advice/theres-more-to-mathematics-than-rigour-and-proofs/" target="_blank">Terence Tao's essay</a> 
      and 
      <a href="https://mathwithbaddrawings.com/2021/05/12/against-mathematical-proof/" target="_blank">Ben Orlin's reflection</a>.
    </p>
    <p style="margin-top: 12px; font-size: 0.8rem; color: #aaa;">
      Inspired by Bret Victor, Steven Wittens, and Bartosz Ciechanowski
    </p>
  </footer>

  <script>
    // =============================================
    // INTERACTIVE ESSAY - JavaScript Logic
    // =============================================

    document.addEventListener('DOMContentLoaded', function() {
      
      // ---- Scroll Progress & Stage Indicator ----
      const progressFill = document.getElementById('progressFill');
      const stageDots = document.querySelectorAll('.stage-dot');
      const sections = ['hero', 'prerigorous', 'rigorous', 'postrigorous', 'proofvsexplanation', 'sumofsquares', 'synthesis'];
      
      function updateScrollProgress() {
        const scrollTop = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const progress = Math.min(scrollTop / docHeight, 1);
        progressFill.style.width = (progress * 100) + '%';
        
        // Determine active stage
        let activeStage = 0;
        if (progress < 0.15) activeStage = 0;
        else if (progress < 0.35) activeStage = 1;
        else if (progress < 0.55) activeStage = 2;
        else activeStage = 3;
        
        stageDots.forEach((dot, i) => {
          if (i === activeStage) {
            dot.classList.add('active');
          } else {
            dot.classList.remove('active');
          }
        });
      }
      
      window.addEventListener('scroll', updateScrollProgress);
      updateScrollProgress();

      // ---- Pre-Rigorous Demo: Slope Slider ----
      const slopeSlider = document.getElementById('slopeSlider');
      const slopeValue = document.getElementById('slopeValue');
      const slopeLine = document.getElementById('slopeLine');
      const slopeTriangle = document.getElementById('slopeTriangle');
      const riseLabel = document.getElementById('riseLabel');
      
      function updateSlope() {
        const slope = parseFloat(slopeSlider.value);
        slopeValue.textContent = slope.toFixed(1);
        
        // Update line
        const y2 = 170 - (slope * 150);
        slopeLine.setAttribute('y2', Math.max(10, y2));
        
        // Update triangle
        const rise = slope * 50;
        const triangleY1 = 170 - (slope * 50);
        const triangleY2 = 170 - (slope * 100);
        slopeTriangle.setAttribute('d', `M 100 ${triangleY1} L 100 ${triangleY2} L 150 ${triangleY2}`);
        
        // Update labels
        riseLabel.textContent = 'rise = ' + Math.round(rise);
        riseLabel.setAttribute('y', triangleY2 - 5);
      }
      
      slopeSlider.addEventListener('input', updateSlope);
      updateSlope();

      // ---- Rigorous Demo: Epsilon-Delta ----
      const epsilonSlider = document.getElementById('epsilonSlider');
      const deltaSlider = document.getElementById('deltaSlider');
      const epsilonValue = document.getElementById('epsilonValue');
      const deltaValue = document.getElementById('deltaValue');
      const epsilonBand = document.getElementById('epsilonBand');
      const deltaBand = document.getElementById('deltaBand');
      
      function updateEpsilonDelta() {
        const epsilon = parseFloat(epsilonSlider.value);
        const delta = parseFloat(deltaSlider.value);
        
        epsilonValue.textContent = epsilon.toFixed(2);
        deltaValue.textContent = delta.toFixed(2);
        
        // Update epsilon band
        const bandHeight = epsilon * 120;
        epsilonBand.setAttribute('y', 90 - bandHeight/2);
        epsilonBand.setAttribute('height', bandHeight);
        
        // Update delta band
        const bandWidth = delta * 120;
        deltaBand.setAttribute('x', 150 - bandWidth/2);
        deltaBand.setAttribute('width', bandWidth);
      }
      
      epsilonSlider.addEventListener('input', updateEpsilonDelta);
      deltaSlider.addEventListener('input', updateEpsilonDelta);
      updateEpsilonDelta();

      // ---- Post-Rigorous Demo: View Toggle ----
      const viewButtons = document.querySelectorAll('.view-btn');
      const tangentLine = document.getElementById('tangentLine');
      const secantLines = document.getElementById('secantLines');
      const unifiedLegend = document.getElementById('unifiedLegend');
      const unifiedText = document.getElementById('unifiedText');
      
      viewButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          viewButtons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          const view = this.dataset.view;
          
          if (view === 'intuition') {
            tangentLine.style.display = 'block';
            tangentLine.setAttribute('stroke-dasharray', '0');
            secantLines.style.display = 'none';
            unifiedLegend.style.display = 'none';
            unifiedText.textContent = 'The tangent line touches at exactly one point.';
          } else if (view === 'rigor') {
            tangentLine.style.display = 'none';
            secantLines.style.display = 'block';
            unifiedLegend.style.display = 'none';
            unifiedText.textContent = 'As h‚Üí0, the secant becomes the tangent.';
          } else {
            tangentLine.style.display = 'block';
            tangentLine.setAttribute('stroke-dasharray', '5,3');
            secantLines.style.display = 'block';
            unifiedLegend.style.display = 'block';
            unifiedText.textContent = 'Same truth, two languages‚Äîperfectly aligned.';
          }
        });
      });

      // ---- Sum of Squares: Mode Switcher ----
      const modeButtons = document.querySelectorAll('.mode-btn');
      const explanationDemo = document.getElementById('explanationDemo');
      const proofDemo = document.getElementById('proofDemo');
      
      modeButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          modeButtons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          const mode = this.dataset.mode;
          
          if (mode === 'explanation') {
            explanationDemo.classList.remove('hidden');
            proofDemo.classList.add('hidden');
          } else {
            explanationDemo.classList.add('hidden');
            proofDemo.classList.remove('hidden');
          }
        });
      });

      // ---- Sum of Squares: Pyramid Visualization ----
      const pyramidSlider = document.getElementById('pyramidSlider');
      const pyramidNValue = document.getElementById('pyramidNValue');
      const pyramidSvg = document.getElementById('pyramidSvg');
      const exactSumEl = document.getElementById('exactSum');
      const approxSumEl = document.getElementById('approxSum');
      const accuracyFill = document.getElementById('accuracyFill');
      const accuracyPercent = document.getElementById('accuracyPercent');
      
      function sumOfSquares(n) {
        return (n * (n + 1) * (2 * n + 1)) / 6;
      }
      
      function updatePyramid() {
        const n = parseInt(pyramidSlider.value);
        pyramidNValue.textContent = n;
        
        // Calculate sums
        const exact = sumOfSquares(n);
        const approx = Math.pow(n, 3) / 3;
        const accuracy = (approx / exact) * 100;
        
        exactSumEl.textContent = exact.toFixed(1);
        approxSumEl.textContent = approx.toFixed(1);
        accuracyFill.style.width = Math.min(accuracy, 100) + '%';
        accuracyPercent.textContent = accuracy.toFixed(1);
        
        // Draw pyramid
        let svgContent = '';
        
        for (let i = 0; i < n; i++) {
          const size = (i + 1) * (200 / n) * 0.9;
          const x = 140 - size / 2;
          const y = 260 - (i + 1) * (240 / n);
          const hue = 30 + i * (20 / n);
          const lightness = 60 + i * 3;
          
          svgContent += `
            <rect x="${x}" y="${y}" width="${size}" height="${size * 0.15}" 
                  fill="hsl(${hue}, 75%, ${lightness}%)" stroke="white" stroke-width="1" rx="2"/>
            <text x="${x + size + 8}" y="${y + size * 0.1}" font-size="11" fill="#888" 
                  font-family="JetBrains Mono">${i + 1}¬≤</text>
          `;
        }
        
        // Pyramid outline
        const topY = 260 - n * (240 / n) * 0.85;
        svgContent += `
          <path d="M 40 260 L 140 ${topY} L 240 260" fill="none" 
                stroke="#E8A838" stroke-width="2" stroke-dasharray="4,3" opacity="0.5"/>
        `;
        
        pyramidSvg.innerHTML = svgContent;
      }
      
      pyramidSlider.addEventListener('input', updatePyramid);
      updatePyramid();

      // ---- Sum of Squares: Proof Steps ----
      const proofSteps = [
        { 
          title: "Base Case", 
          content: "P(1): 1¬≤ = 1(1+1)(2¬∑1+1)/6 = 1¬∑2¬∑3/6 = 1 ‚úì",
          explanation: "Verify the formula works for n = 1"
        },
        { 
          title: "Inductive Hypothesis", 
          content: "Assume P(k): 1¬≤ + 2¬≤ + ... + k¬≤ = k(k+1)(2k+1)/6",
          explanation: "Assume formula holds for some k"
        },
        { 
          title: "Inductive Step", 
          content: "Prove P(k+1): Add (k+1)¬≤ to both sides",
          explanation: "Show it implies formula holds for k+1"
        },
        { 
          title: "Algebraic Manipulation", 
          content: "k(k+1)(2k+1)/6 + (k+1)¬≤\n= (k+1)[k(2k+1)/6 + (k+1)]\n= (k+1)(k+2)(2k+3)/6 ‚úì",
          explanation: "Factor and simplify to match P(k+1) form"
        }
      ];
      
      const stepButtons = document.querySelectorAll('.step-btn');
      const proofStepTitle = document.getElementById('proofStepTitle');
      const proofStepFormula = document.getElementById('proofStepFormula');
      const proofStepExplanation = document.getElementById('proofStepExplanation');
      
      function updateProofStep(stepIndex) {
        const step = proofSteps[stepIndex];
        proofStepTitle.textContent = step.title;
        proofStepFormula.textContent = step.content;
        proofStepExplanation.textContent = step.explanation;
        
        stepButtons.forEach((btn, i) => {
          if (i === stepIndex) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });
      }
      
      stepButtons.forEach((btn, i) => {
        btn.addEventListener('click', () => updateProofStep(i));
      });

      // ---- Stage dot click navigation ----
      const sectionIds = ['hero', 'prerigorous', 'rigorous', 'postrigorous'];
      stageDots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
          const section = document.getElementById(sectionIds[i] || 'synthesis');
          if (section) {
            section.scrollIntoView({ behavior: 'smooth' });
          }
        });
      });

      // ---- Intersection Observer for animations ----
      const observerOptions = {
        threshold: 0.2
      };

      const fadeObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, observerOptions);

      document.querySelectorAll('.demo-card, .dual-card, .synthesis-card, .final-box').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
        fadeObserver.observe(el);
      });

    });
  </script>
</body>
</html>
